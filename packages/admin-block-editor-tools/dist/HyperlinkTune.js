!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(()=>(()=>{"use strict";var t={462:(t,e,n)=>{n.d(e,{A:()=>d});var i=n(4848),o=n(959);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,c(i.key),i)}}function c(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,s=[{key:"element",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=document.createElement(t);for(var a in Array.isArray(n)?(e=s.classList).add.apply(e,r(n)):n&&s.classList.add(n),i)s.setAttribute(a,i[a]);return""!==o&&(s.innerHTML=o),s}},{key:"input",value:function(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=t.element("div",n,{contentEditable:!e.readOnly});return s.dataset.placeholder=e.api.i18n.t(i),o&&(s.textContent=o),s}},{key:"option",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createElement("option");for(var s in o.text=n||e,o.value=e,i)o.setAttribute(s,i[s]);t.add(o)}},{key:"options",value:function(e,n){n.forEach((function(n){return t.option(e,n)}))}},{key:"fileButtons",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=t.element("div",["flex","cdx-input-labeled-preview","cdx-input-labeled","cdx-input","cdx-input-editable"].concat(r(n))),a=t.element("div",[e.api.styles.button]);if(a.innerHTML=i.A+" "+e.api.i18n.t("Select"),a.addEventListener("click",(function(t){return e.onSelectFile(e,t)})),s.appendChild(a),e.onUploadFile){var l=t.element("div",[e.api.styles.button]);l.innerHTML="".concat(o.A," ").concat(e.api.i18n.t("Upload")),l.style.marginLeft="-2px",l.addEventListener("click",(function(t){return e.onUploadFile(e,t)})),s.appendChild(l)}return s}},{key:"switchInput",value:function(e,n){var i=t.element("div","editor-switch"),o=t.element("input",null,{type:"checkbox",id:e}),s=t.element("label","label-default",{for:e}),r=t.element("label","",{for:e});return r.innerHTML=n,i.append(o,s,r),i}},{key:"selectionCollapseToEnd",value:function(){var t=window.getSelection(),e=document.createRange();e.selectNodeContents(t.focusNode),e.collapse(!1),t.removeAllRanges(),t.addRange(e)}}],(n=null)&&l(e.prototype,n),s&&l(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,s}()},8945:(t,e,n)=>{n.d(e,{default:()=>We});var i=n(5072),o=n.n(i),s=n(7825),r=n.n(s),a=n(7659),l=n.n(a),c=n(5056),d=n.n(c),h=n(540),u=n.n(h),p=n(1113),f=n.n(p),g=n(9110),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u();o()(g.A,m);g.A&&g.A.locals&&g.A.locals;class v{instance=null;selection=null;savedSelectionRange=null;isFakeBackgroundEnabled=!1;commandBackground="backColor";commandRemoveFormat="removeFormat";static get range(){const t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=v.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),e=document.createRange();e.selectNodeContents(t.focusNode),e.collapse(!1),t.removeAllRanges(),t.addRange(e)}}var b=n(462);const y='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';var k={LocalMulti:function(){},Key:{TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},copyProperties:function(t,e){for(var n in e)t[n]=e[n];return t},Local:function(){this.initialize.apply(this,arguments)}};k.Local.prototype={initialize:function(t,e,n){this.input=this._getElement(t),this.suggestArea=this._getElement(e),this.candidateList=n,this.oldText=this.getInputText(),arguments[3]&&this.setOptions(arguments[3]),this._addEvent(this.input,"focus",this._bind(this.checkLoop)),this._addEvent(this.input,"blur",this._bind(this.inputBlur)),this._addEvent(this.suggestArea,"blur",this._bind(this.inputBlur)),this._addEvent(this.input,"keydown",this._bindEvent(this.keyEvent)),this.clearSuggestArea()},interval:500,dispMax:20,listTagName:"div",prefix:!1,ignoreCase:!0,highlight:!1,dispAllKey:!1,classMouseOver:"over",classSelect:"select",delim:" ",hookBeforeSearch:null,hookSearchResults:null,setOptions:function(t){k.copyProperties(this,t)},inputBlur:function(){setTimeout(this._bind((function(){document.activeElement!=this.suggestArea&&document.activeElement!=this.input&&(this.changeUnactive(),this.oldText=this.getInputText(),this.timerId&&clearTimeout(this.timerId),this.timerId=null,setTimeout(this._bind(this.clearSuggestArea),500))}),500))},checkLoop:function(){var t=this.getInputText();t!=this.oldText&&(this.oldText=t,this.search()),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this._bind(this.checkLoop),this.interval)},search:function(){this.clearSuggestArea();var t=this.getInputText();if(""!=t&&null!=t){this.hookBeforeSearch&&this.hookBeforeSearch(k,t);var e=this._search(t);this.hookSearchResults&&(e=window[this.hookSearchResults](this,this.getInputValue(),t,e)),0!=e.length&&this.createSuggestArea(e)}},_search:function(t){var e,n=[];this.suggestIndexList=[];for(var i=0,o=this.candidateList.length;i<o;i++)if(null!=(e=this.isMatch(this.candidateList[i],t))){if(this.getInputValue().includes(e.replace(/(<([^>]+)>)/gi,"")))continue;if(n.push(e),this.suggestIndexList.push(i),0!=this.dispMax&&n.length>=this.dispMax)break}return n},isMatch:function(t,e){if(null==t)return null;var n=this.ignoreCase?t.toLowerCase().indexOf(e.toLowerCase()):t.indexOf(e);return-1==n||this.prefix&&0!=n?null:this.highlight?this._escapeHTML(t.substr(0,n))+"<strong>"+this._escapeHTML(t.substr(n,e.length))+"</strong>"+this._escapeHTML(t.substr(n+e.length)):this._escapeHTML(t)},clearSuggestArea:function(){this.suggestArea.innerHTML="",this.suggestArea.style.display="none",this.suggestList=null,this.suggestIndexList=null,this.activePosition=null},createSuggestArea:function(t){this.suggestList=[],this.inputValueBackup=this.getInputValue();for(var e=0,n=t.length;e<n;e++){var i=document.createElement(this.listTagName);i.innerHTML=t[e],this.suggestArea.appendChild(i),this._addEvent(i,"click",this._bindEvent(this.listClick,e)),this._addEvent(i,"mouseover",this._bindEvent(this.listMouseOver,e)),this._addEvent(i,"mouseout",this._bindEvent(this.listMouseOut,e)),this.suggestList.push(i)}this.suggestArea.style.display="",this.suggestArea.scrollTop=0},getInputValue:function(){return this.input instanceof HTMLInputElement?this.input.value:this.input.innerText},getInputText:function(){return this.getInputValue()},setInputValue:function(t){this.input instanceof HTMLInputElement?this.input.value=t:this.input.innerText=t},setInputText:function(t){this.setInputValue(t)},keyEvent:function(t){this.timerId||(this.timerId=setTimeout(this._bind(this.checkLoop),this.interval)),this.dispAllKey&&t.ctrlKey&&""==this.getInputText()&&!this.suggestList&&t.keyCode==k.Key.DOWN?(this._stopEvent(t),this.keyEventDispAll()):t.keyCode==k.Key.UP||t.keyCode==k.Key.DOWN?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventMove(t.keyCode)):t.keyCode==k.Key.RETURN?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventReturn()):t.keyCode==k.Key.ESC?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventEsc()):this.keyEventOther(t)},keyEventDispAll:function(){this.clearSuggestArea(),this.oldText=this.getInputText(),this.suggestIndexList=[];for(var t=0,e=this.candidateList.length;t<e;t++)this.suggestIndexList.push(t);this.createSuggestArea(this.candidateList)},keyEventMove:function(t){if(this.changeUnactive(),t==k.Key.UP){if(null==this.activePosition)this.activePosition=this.suggestList.length-1;else if(this.activePosition--,this.activePosition<0)return this.activePosition=null,this.setInputValue(this.inputValueBackup),void(this.suggestArea.scrollTop=0)}else if(null==this.activePosition?this.activePosition=0:this.activePosition++,this.activePosition>=this.suggestList.length)return this.activePosition=null,this.setInputValue(this.inputValueBackup),void(this.suggestArea.scrollTop=0);this.changeActive(this.activePosition)},keyEventReturn:function(){this.clearSuggestArea(),this.moveEnd()},keyEventEsc:function(){this.clearSuggestArea(),this.setInputValue(this.inputValueBackup),this.oldText=this.getInputText(),window.opera&&setTimeout(this._bind(this.moveEnd),5)},keyEventOther:function(t){},changeActive:function(t){this.setStyleActive(this.suggestList[t]),this.setInputText(this.candidateList[this.suggestIndexList[t]]),this.oldText=this.getInputText(),this.input.focus()},changeUnactive:function(){null!=this.suggestList&&this.suggestList.length>0&&null!=this.activePosition&&this.setStyleUnactive(this.suggestList[this.activePosition])},listClick:function(t,e){this.changeUnactive(),this.activePosition=e,this.changeActive(e),this.clearSuggestArea(),this.moveEnd()},listMouseOver:function(t,e){this.setStyleMouseOver(this._getEventElement(t))},listMouseOut:function(t,e){if(this.suggestList){var n=this._getEventElement(t);e==this.activePosition?this.setStyleActive(n):this.setStyleUnactive(n)}},setStyleActive:function(t){t.className=this.classSelect;var e=t.offsetTop,n=e+t.clientHeight;this.suggestArea.scrollTop>e?this.suggestArea.scrollTop=e:this.suggestArea.scrollTop+this.suggestArea.clientHeight<n&&(this.suggestArea.scrollTop=n-this.suggestArea.clientHeight)},setStyleUnactive:function(t){t.className=""},setStyleMouseOver:function(t){t.className=this.classMouseOver},moveEnd:function(){if(this.input.createTextRange)this.input.focus(),(t=this.input.createTextRange()).move("character",this.getInputValue().length),t.select();else if(this.input.setSelectionRange)this.input.setSelectionRange(this.getInputValue().length,this.getInputValue().length);else{var t;this.input.focus(),(t=document.createRange()).selectNodeContents(this.input),t.collapse(!1);var e=window.getSelection();e.removeAllRanges(),e.addRange(t)}},_getElement:function(t){return"string"==typeof t?document.getElementById(t):t},_addEvent:window.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},_stopEvent:function(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)},_getEventElement:function(t){return t.target||t.srcElement},_bind:function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){t.apply(e,n)}},_bindEvent:function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(i){i=i||window.event,t.apply(e,[i].concat(n))}},_escapeHTML:function(t){return t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},k.LocalMulti=function(){this.initialize.apply(this,arguments)},k.copyProperties(k.LocalMulti.prototype,k.Local.prototype),k.LocalMulti.prototype.keyEventReturn=function(){this.clearSuggestArea(),this.setInputValue(this.getInputValue()+this.delim),this.moveEnd()},k.LocalMulti.prototype.keyEventOther=function(t){t.keyCode==k.Key.TAB&&this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.activePosition||(this.activePosition=0,this.changeActive(this.activePosition)),this.clearSuggestArea(),this.setInputValue(this.getInputValue()+this.delim),window.opera?setTimeout(this._bind(this.moveEnd),5):this.moveEnd())},k.LocalMulti.prototype.listClick=function(t,e){this.changeUnactive(),this.activePosition=e,this.changeActive(e),this.setInputValue(this.getInputValue()+this.delim),this.clearSuggestArea(),this.moveEnd()},k.LocalMulti.prototype.getInputText=function(){var t=this.getLastTokenPos();return-1==t?this.getInputValue():this.getInputValue().substr(t+this.delim.length)},k.LocalMulti.prototype.setInputText=function(t){var e=this.getLastTokenPos();-1==e?this.setInputValue(t):this.setInputValue(this.getInputValue().substr(0,e+this.delim.length)+t)},k.LocalMulti.prototype.getLastTokenPos=function(){return this.getInputValue().lastIndexOf(this.delim)},function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(t)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;function w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C(){}Object.assign(C,{default:C,register:C,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=t instanceof Node;e.appendChild(n?t:document.createTextNode(t))})),this.insertBefore(e,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=0===arguments.length||!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),i=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,r=this.offsetTop-e.offsetTop+this.clientHeight-i>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=s&&!r;(s||r)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-i+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(s||r||a||l)&&!t&&this.scrollIntoView(c)}),window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};const T=9,x=13,E=37,L=38,S=40,A=39;function I(t,e,n="log",i,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const s=["info","log","warn","error"].includes(n),r=[];switch(I.logLevel){case"ERROR":if("error"!==n)return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!s||t)return}i&&r.push(i);const a="Editor.js 2.30.7";t&&(s?(r.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{s?i?console[n](`${e} %o`,...r):console[n](e,...r):console[n](e)}catch{}}I.logLevel="VERBOSE";const B=I.bind(window,!1);I.bind(window,!0);function M(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function N(t){return"function"===M(t)||"asyncfunction"===M(t)}function O(t){return"object"===M(t)}function P(t){return"string"===M(t)}function _(t){return"number"===M(t)}function H(t){return"undefined"===M(t)}function R(t){return!t||0===Object.keys(t).length&&t.constructor===Object}async function D(t,e=()=>{},n=()=>{}){return t.reduce((async(t,i)=>(await t,async function(t,e,n){try{await t.function(t.data),await e(H(t.data)?{}:t.data)}catch{n(H(t.data)?{}:t.data)}}(i,e,n))),Promise.resolve())}function F(t){return Array.prototype.slice.call(t)}function j(t,e){return function(){const n=this,i=arguments;window.setTimeout((()=>t.apply(n,i)),e)}}function U(t){return t[0].toUpperCase()+t.slice(1)}function V(t,...e){if(!e.length)return t;const n=e.shift();if(O(t)&&O(n))for(const e in n)O(n[e])?(t[e]||Object.assign(t,{[e]:{}}),V(t[e],n[e])):Object.assign(t,{[e]:n[e]});return V(t,...e)}function z(t){const e=function(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find((t=>-1!==window.navigator.appVersion.toLowerCase().indexOf(t)));return e&&(t[e]=!0),t}();return t=t.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),t=e.mac?t.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")}function K(t,e,n){const i=n.value?"value":"get",o=n[i],s=`#${e}Cache`;if(n[i]=function(...t){return void 0===this[s]&&(this[s]=o.apply(this,...t)),this[s]},"get"===i&&n.set){const e=n.set;n.set=function(n){delete t[s],e.apply(this,n)}}return n}function $(){return window.matchMedia("(max-width: 650px)").matches}const W=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);class q{static isSingleTag(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}static isLineBreakTag(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}static make(t,e=null,n={}){const i=document.createElement(t);if(Array.isArray(e)){const t=e.filter((t=>void 0!==t));i.classList.add(...t)}else e&&i.classList.add(e);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=n[t]);return i}static text(t){return document.createTextNode(t)}static append(t,e){Array.isArray(e)?e.forEach((e=>t.appendChild(e))):t.appendChild(e)}static prepend(t,e){Array.isArray(e)?(e=e.reverse()).forEach((e=>t.prepend(e))):t.prepend(e)}static swap(t,e){const n=document.createElement("div"),i=t.parentNode;i.insertBefore(n,t),i.insertBefore(t,e),i.insertBefore(e,n),i.removeChild(n)}static find(t=document,e){return t.querySelector(e)}static get(t){return document.getElementById(t)}static findAll(t=document,e){return t.querySelectorAll(e)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((t=>`input[type="${t}"]`)).join(", ")}static findAllInputs(t){return F(t.querySelectorAll(q.allInputsSelector)).reduce(((t,e)=>q.isNativeInput(e)||q.containsOnlyInlineElements(e)?[...t,e]:[...t,...q.getDeepestBlockElements(e)]),[])}static getDeepestNode(t,e=!1){const n=e?"lastChild":"firstChild",i=e?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[n]){let o=t[n];if(q.isSingleTag(o)&&!q.isNativeInput(o)&&!q.isLineBreakTag(o))if(o[i])o=o[i];else{if(!o.parentNode[i])return o.parentNode;o=o.parentNode[i]}return this.getDeepestNode(o,e)}return t}static isElement(t){return!_(t)&&(t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE)}static isFragment(t){return!_(t)&&(t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)}static isContentEditable(t){return"true"===t.contentEditable}static isNativeInput(t){return!(!t||!t.tagName)&&["INPUT","TEXTAREA"].includes(t.tagName)}static canSetCaret(t){let e=!0;if(q.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1}else e=q.isContentEditable(t);return e}static isNodeEmpty(t,e){let n;return!(this.isSingleTag(t)&&!this.isLineBreakTag(t))&&(n=this.isElement(t)&&this.isNativeInput(t)?t.value:t.textContent.replace("​",""),e&&(n=n.replace(new RegExp(e,"g"),"")),0===n.trim().length)}static isLeaf(t){return!!t&&0===t.childNodes.length}static isEmpty(t,e){const n=[t];for(;n.length>0;)if(t=n.shift()){if(this.isLeaf(t)&&!this.isNodeEmpty(t,e))return!1;t.childNodes&&n.push(...Array.from(t.childNodes))}return!0}static isHTMLString(t){const e=q.make("div");return e.innerHTML=t,e.childElementCount>0}static getContentLength(t){return q.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(t){let e;P(t)?(e=document.createElement("div"),e.innerHTML=t):e=t;const n=t=>!q.blockElements.includes(t.tagName.toLowerCase())&&Array.from(t.children).every(n);return Array.from(e.children).every(n)}static getDeepestBlockElements(t){return q.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce(((t,e)=>[...t,...q.getDeepestBlockElements(e)]),[])}static getHolder(t){return P(t)?document.getElementById(t):t}static isAnchor(t){return"a"===t.tagName.toLowerCase()}static offset(t){const e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,o=e.top+i,s=e.left+n;return{top:o,left:s,bottom:o+e.height,right:s+e.width}}}const X={ui:{blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},toolNames:{Text:"",Link:"",Bold:"",Italic:""},tools:{link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},blockTunes:{delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}}},G=class t{static ui(e,n){return t._t(e,n)}static t(e,n){return t._t(e,n)}static setDictionary(e){t.currentDictionary=e}static _t(e,n){const i=t.getNamespace(e);return i&&i[n]?i[n]:n}static getNamespace(e){return e.split(".").reduce(((t,e)=>t&&Object.keys(t).length?t[e]:{}),t.currentDictionary)}};G.currentDictionary=X;let Y=G;Error;class J{constructor(){this.subscribers={}}on(t,e){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(e)}once(t,e){t in this.subscribers||(this.subscribers[t]=[]);const n=i=>{const o=e(i),s=this.subscribers[t].indexOf(n);return-1!==s&&this.subscribers[t].splice(s,1),o};this.subscribers[t].push(n)}emit(t,e){R(this.subscribers)||!this.subscribers[t]||this.subscribers[t].reduce(((t,e)=>{const n=e(t);return void 0!==n?n:t}),e)}off(t,e){if(void 0!==this.subscribers[t]){for(let n=0;n<this.subscribers[t].length;n++)if(this.subscribers[t][n]===e){delete this.subscribers[t][n];break}}else console.warn(`EventDispatcher .off(): there is no subscribers for event "${t.toString()}". Probably, .off() called before .on()`)}destroy(){this.subscribers={}}}class Q{constructor(){this.allListeners=[]}on(t,e,n,i=!1){const o=function(t=""){return`${t}${Math.floor(1e8*Math.random()).toString(16)}`}("l"),s={id:o,element:t,eventType:e,handler:n,options:i};if(!this.findOne(t,e,n))return this.allListeners.push(s),t.addEventListener(e,n,i),o}off(t,e,n,i){const o=this.findAll(t,e,n);o.forEach(((t,e)=>{const n=this.allListeners.indexOf(o[e]);n>-1&&(this.allListeners.splice(n,1),t.element.removeEventListener(t.eventType,t.handler,t.options))}))}offById(t){const e=this.findById(t);e&&e.element.removeEventListener(e.eventType,e.handler,e.options)}findOne(t,e,n){const i=this.findAll(t,e,n);return i.length>0?i[0]:null}findAll(t,e,n){let i;const o=t?this.findByEventTarget(t):[];return i=t&&e&&n?o.filter((t=>t.eventType===e&&t.handler===n)):t&&e?o.filter((t=>t.eventType===e)):o,i}removeAll(){this.allListeners.map((t=>{t.element.removeEventListener(t.eventType,t.handler,t.options)})),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(t){return this.allListeners.filter((e=>{if(e.element===t)return e}))}findByType(t){return this.allListeners.filter((e=>{if(e.eventType===t)return e}))}findByHandler(t){return this.allListeners.filter((e=>{if(e.handler===t)return e}))}findById(t){return this.allListeners.find((e=>e.id===t))}}class Z{constructor({config:t,eventsDispatcher:e}){if(this.nodes={},this.listeners=new Q,this.readOnlyMutableListeners={on:(t,e,n,i=!1)=>{this.mutableListenerIds.push(this.listeners.on(t,e,n,i))},clearAll:()=>{for(const t of this.mutableListenerIds)this.listeners.offById(t);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Z)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=t,this.eventsDispatcher=e}set state(t){this.Editor=t}removeAllNodes(){for(const t in this.nodes){const e=this.nodes[t];e instanceof HTMLElement&&e.remove()}}get isRtl(){return"rtl"===this.config.i18n.direction}}class tt{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const t=window.getSelection();return t?t.anchorNode:null}static get anchorElement(){const t=window.getSelection();if(!t)return null;const e=t.anchorNode;return e?q.isElement(e)?e:e.parentElement:null}static get anchorOffset(){const t=window.getSelection();return t?t.anchorOffset:null}static get isCollapsed(){const t=window.getSelection();return t?t.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(tt.get())}static isSelectionAtEditor(t){if(!t)return!1;let e=t.anchorNode||t.focusNode;e&&e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);let n=null;return e&&e instanceof Element&&(n=e.closest(`.${tt.CSS.editorZone}`)),!!n&&n.nodeType===Node.ELEMENT_NODE}static isRangeAtEditor(t){if(!t)return;let e=t.startContainer;e&&e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);let n=null;return e&&e instanceof Element&&(n=e.closest(`.${tt.CSS.editorZone}`)),!!n&&n.nodeType===Node.ELEMENT_NODE}static get isSelectionExists(){return!!tt.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(t){return t&&t.rangeCount?t.getRangeAt(0):null}static get rect(){let t,e=document.selection,n={x:0,y:0,width:0,height:0};if(e&&"Control"!==e.type)return t=e.createRange(),n.x=t.boundingLeft,n.y=t.boundingTop,n.width=t.boundingWidth,n.height=t.boundingHeight,n;if(!window.getSelection)return B("Method window.getSelection is not supported","warn"),n;if(e=window.getSelection(),null===e.rangeCount||isNaN(e.rangeCount))return B("Method SelectionUtils.rangeCount is not supported","warn"),n;if(0===e.rangeCount)return n;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(n=t.getBoundingClientRect()),0===n.x&&0===n.y){const e=document.createElement("span");if(e.getBoundingClientRect){e.appendChild(document.createTextNode("​")),t.insertNode(e),n=e.getBoundingClientRect();const i=e.parentNode;i.removeChild(e),i.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(t,e=0){const n=document.createRange(),i=window.getSelection();return q.isNativeInput(t)?q.canSetCaret(t)?(t.focus(),t.selectionStart=t.selectionEnd=e,t.getBoundingClientRect()):void 0:(n.setStart(t,e),n.setEnd(t,e),i.removeAllRanges(),i.addRange(n),n.getBoundingClientRect())}static isRangeInsideContainer(t){const e=tt.range;return null!==e&&t.contains(e.startContainer)}static addFakeCursor(){const t=tt.range;if(null===t)return;const e=q.make("span","codex-editor__fake-cursor");e.dataset.mutationFree="true",t.collapse(),t.insertNode(e)}static isFakeCursorInsideContainer(t){return null!==q.find(t,".codex-editor__fake-cursor")}static removeFakeCursor(t=document.body){const e=q.find(t,".codex-editor__fake-cursor");e&&e.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=tt.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),e=document.createRange();e.selectNodeContents(t.focusNode),e.collapse(!1),t.removeAllRanges(),t.addRange(e)}findParentTag(t,e,n=10){const i=window.getSelection();let o=null;return i&&i.anchorNode&&i.focusNode?([i.anchorNode,i.focusNode].forEach((i=>{let s=n;for(;s>0&&i.parentNode&&(i.tagName!==t||(o=i,e&&i.classList&&!i.classList.contains(e)&&(o=null),!o));)i=i.parentNode,s--})),o):null}expandToTag(t){const e=window.getSelection();e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}}const et="editor mobile layout toggled";function nt(t,e){if(!t.conversionConfig)return!1;const n=t.conversionConfig[e];return N(n)||P(n)}function it(t,e){return Object.entries(t).some((([t,n])=>e[t]&&function(t,e){const n=Array.isArray(t)||O(t),i=Array.isArray(e)||O(e);return n||i?JSON.stringify(t)===JSON.stringify(e):t===e}(e[t],n)))}async function ot(t,e){const n=(await t.save()).data,i=e.find((e=>e.name===t.name));return void 0===i||nt(i,"export")?e.reduce(((e,i)=>{if(!nt(i,"import")||void 0===i.toolbox)return e;const o=i.toolbox.filter((e=>{if(R(e)||void 0===e.icon)return!1;if(void 0!==e.data){if(it(e.data,n))return!1}else if(i.name===t.name)return!1;return!0}));return e.push({...i,toolbox:o}),e}),[]):[]}var st=(t=>(t.Default="default",t.Separator="separator",t.Html="html",t))(st||{}),rt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(rt||{});var at={exports:{}};!function(t){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){n(1),t.exports=function(){var t=n(6),e="cdx-notify--bounce-in",i=null;return{show:function(n){if(n.message){!function(){if(i)return!0;i=t.getWrapper(),document.body.appendChild(i)}();var o=null,s=n.time||8e3;switch(n.type){case"confirm":o=t.confirm(n);break;case"prompt":o=t.prompt(n);break;default:o=t.alert(n),window.setTimeout((function(){o.remove()}),s)}i.appendChild(o),o.classList.add(e)}}}}()},function(t,e,n){var i=n(2);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(i,o),i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"==typeof btoa){var s=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),r=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[i].concat(r).concat([s]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(i[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(t,e,n){var i,o,s={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),a=function(){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(t){return document.querySelector(t)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch{n=null}t[e]=n}return t[e]}}(),l=null,c=0,d=[],h=n(5);function u(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=s[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(b(i.parts[r],e))}else{var a=[];for(r=0;r<i.parts.length;r++)a.push(b(i.parts[r],e));s[i.id]={id:i.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],i={},o=0;o<t.length;o++){var s=t[o],r=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};i[r]?i[r].parts.push(a):n.push(i[r]={id:r,parts:[a]})}return n}function f(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function m(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),f(t,e),e}function v(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,i,o,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var r=c++;n=l||(l=m(e)),i=w.bind(null,n,r,!1),o=w.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),f(t,e),e}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||s)&&(i=h(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if(typeof DEBUG<"u"&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return u(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var r=n[o];(a=s[r.id]).refs--,i.push(a)}for(t&&u(p(t,e),e),o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete s[a.id]}}}};var y,k=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=k(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e=typeof window<"u"&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){var i,o,s,r,a,l,c,d,h;t.exports=(i="cdx-notifies",o="cdx-notify",s="cdx-notify__cross",r="cdx-notify__button--confirm",a="cdx-notify__button--cancel",l="cdx-notify__input",c="cdx-notify__button",d="cdx-notify__btns-wrapper",{alert:h=function(t){var e=document.createElement("DIV"),n=document.createElement("DIV"),i=t.message,r=t.style;return e.classList.add(o),r&&e.classList.add(o+"--"+r),e.innerHTML=i,n.classList.add(s),n.addEventListener("click",e.remove.bind(e)),e.appendChild(n),e},confirm:function(t){var e=h(t),n=document.createElement("div"),i=document.createElement("button"),o=document.createElement("button"),l=e.querySelector("."+s),u=t.cancelHandler,p=t.okHandler;return n.classList.add(d),i.innerHTML=t.okText||"Confirm",o.innerHTML=t.cancelText||"Cancel",i.classList.add(c),o.classList.add(c),i.classList.add(r),o.classList.add(a),u&&"function"==typeof u&&(o.addEventListener("click",u),l.addEventListener("click",u)),p&&"function"==typeof p&&i.addEventListener("click",p),i.addEventListener("click",e.remove.bind(e)),o.addEventListener("click",e.remove.bind(e)),n.appendChild(i),n.appendChild(o),e.appendChild(n),e},prompt:function(t){var e=h(t),n=document.createElement("div"),i=document.createElement("button"),o=document.createElement("input"),a=e.querySelector("."+s),u=t.cancelHandler,p=t.okHandler;return n.classList.add(d),i.innerHTML=t.okText||"Ok",i.classList.add(c),i.classList.add(r),o.classList.add(l),t.placeholder&&o.setAttribute("placeholder",t.placeholder),t.default&&(o.value=t.default),t.inputType&&(o.type=t.inputType),u&&"function"==typeof u&&a.addEventListener("click",u),p&&"function"==typeof p&&i.addEventListener("click",(function(){p(o.value)})),i.addEventListener("click",e.remove.bind(e)),n.appendChild(o),n.appendChild(i),e.appendChild(n),e},getWrapper:function(){var t=document.createElement("DIV");return t.classList.add(i),t}})}])}(at);var lt={exports:{}};!function(t){t.exports=function(){function t(t){var e=t.tags,n=Object.keys(e).map((function(t){return typeof e[t]})).every((function(t){return"object"===t||"boolean"===t||"function"===t}));if(!n)throw new Error("The configuration was invalid");this.config=t}var e=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(t){return-1!==e.indexOf(t.nodeName)}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function o(t){return-1!==i.indexOf(t.nodeName)}function s(t,e){return t.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function r(t,e,n){return"function"==typeof t.tags[e]?t.tags[e](n):t.tags[e]}function a(t,e){return typeof e>"u"||"boolean"==typeof e&&!e}function l(t,e,n){var i=t.name.toLowerCase();return!0!==e&&("function"==typeof e[i]?!e[i](t.value,n):typeof e[i]>"u"||!1===e[i]||"string"==typeof e[i]&&e[i]!==t.value)}return t.prototype.clean=function(t){const e=document.implementation.createHTMLDocument(),n=e.createElement("div");return n.innerHTML=t,this._sanitize(e,n),n.innerHTML},t.prototype._sanitize=function(t,e){var i=s(t,e),c=i.firstChild();if(c)do{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.COMMENT_NODE){e.removeChild(c),this._sanitize(t,e);break}var d,h=o(c);h&&(d=Array.prototype.some.call(c.childNodes,n));var u=!!e.parentNode,p=n(e)&&n(c)&&u,f=c.nodeName.toLowerCase(),g=r(this.config,f,c);if(h&&d||a(c,g)||!this.config.keepNestedBlockElements&&p){if("SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName)for(;c.childNodes.length>0;)e.insertBefore(c.childNodes[0],c);e.removeChild(c),this._sanitize(t,e);break}for(var m=0;m<c.attributes.length;m+=1){var v=c.attributes[m];l(v,g,c)&&(c.removeAttribute(v.name),m-=1)}this._sanitize(t,c)}else if(""===c.data.trim()&&(c.previousElementSibling&&n(c.previousElementSibling)||c.nextElementSibling&&n(c.nextElementSibling))){e.removeChild(c),this._sanitize(t,e);break}}while(c=i.nextSibling())},t}()}(lt);const ct=w(lt.exports);function dt(t,e){return t.map((t=>{const n=N(e)?e(t.tool):e;return R(n)||(t.data=ut(t.data,n)),t}))}function ht(t,e={}){return new ct({tags:e}).clean(t)}function ut(t,e){return Array.isArray(t)?function(t,e){return t.map((t=>ut(t,e)))}(t,e):O(t)?function(t,e){const n={};for(const i in t){if(!Object.prototype.hasOwnProperty.call(t,i))continue;const o=t[i],s=pt(e[i])?e[i]:e;n[i]=ut(o,s)}return n}(t,e):P(t)?function(t,e){return O(e)?ht(t,e):!1===e?ht(t,{}):t}(t,e):t}function pt(t){return O(t)||function(t){return"boolean"===M(t)}(t)||N(t)}var ft={exports:{}};!function(t){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){n.r(e),n.d(e,"default",(function(){return i}));class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(t,e,n){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const i=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},n);if(i.hidingDelay&&(this.hidingDelay=i.hidingDelay),this.nodes.content.innerHTML="","string"==typeof e)this.nodes.content.appendChild(document.createTextNode(e));else{if(!(e instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof e+" given.");this.nodes.content.appendChild(e)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),i.placement){case"top":this.placeTop(t,i);break;case"left":this.placeLeft(t,i);break;case"right":this.placeRight(t,i);break;default:this.placeBottom(t,i)}i&&i.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),i.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(t=!1){if(this.hidingDelay&&!t)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(t,e,n){t.addEventListener("mouseenter",(()=>{this.show(t,e,n)})),t.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const t="codex-tooltips-style";if(document.getElementById(t))return;const e=n(2),i=this.make("style",null,{textContent:e.toString(),id:t});this.prepend(document.head,i)}placeBottom(t,e){const n=t.getBoundingClientRect(),i=n.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,o=n.bottom+window.pageYOffset+this.offsetTop+e.marginTop;this.applyPlacement("bottom",i,o)}placeTop(t,e){const n=t.getBoundingClientRect(),i=n.left+t.clientWidth/2-this.nodes.wrapper.offsetWidth/2,o=n.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",i,o)}placeLeft(t,e){const n=t.getBoundingClientRect(),i=n.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-e.marginLeft,o=n.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",i,o)}placeRight(t,e){const n=t.getBoundingClientRect(),i=n.right+this.offsetRight+e.marginRight,o=n.top+window.pageYOffset+t.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",i,o)}applyPlacement(t,e,n){this.nodes.wrapper.classList.add(this.CSS.placement[t]),this.nodes.wrapper.style.left=e+"px",this.nodes.wrapper.style.top=n+"px"}make(t,e=null,n={}){const i=document.createElement(t);Array.isArray(e)?i.classList.add(...e):e&&i.classList.add(e);for(const t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}append(t,e){Array.isArray(e)?e.forEach((e=>t.appendChild(e))):t.appendChild(e)}prepend(t,e){Array.isArray(e)?(e=e.reverse()).forEach((e=>t.prepend(e))):t.prepend(e)}}},function(t,e){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}(ft);const gt=w(ft.exports);let mt=null;function vt(){mt||(mt=new gt)}function bt(t=!1){vt(),null==mt||mt.hide(t)}function yt(t,e,n){vt(),null==mt||mt.onHover(t,e,n)}const kt=function t(e,n){const i={};return Object.entries(e).forEach((([e,o])=>{if(O(o)){const s=n?`${n}.${e}`:e;Object.values(o).every((t=>P(t)))?i[e]=s:i[e]=t(o,s)}else i[e]=o})),i}(X);const wt=class t{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return-1===this.cursor?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(t.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(t.directions.LEFT)}dropCursor(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(0===this.items.length)return this.cursor;let n=this.cursor;return-1===n?n=e===t.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),n=e===t.directions.RIGHT?(n+1)%this.items.length:(this.items.length+n-1)%this.items.length,q.canSetCaret(this.items[n])&&j((()=>tt.setCursor(this.items[n])),50)(),this.items[n].classList.add(this.focusedCssClass),n}};wt.directions={RIGHT:"right",LEFT:"left"};let Ct=wt;class Tt{constructor(t){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(Tt.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case T:this.handleTabPress(t);break;case E:case L:this.flipLeft();break;case A:case S:this.flipRight();break;case x:this.handleEnterPress(t)}},this.iterator=new Ct(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,this.allowedKeys=t.allowedKeys||Tt.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[T,E,A,x,L,S]}activate(t,e){this.activated=!0,t&&this.iterator.setItems(t),void 0!==e&&this.iterator.setCursor(e),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(t){this.flipCallbacks.push(t)}removeOnFlip(t){this.flipCallbacks=this.flipCallbacks.filter((e=>e!==t))}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(t){return this.activated&&this.allowedKeys.includes(t.keyCode)}handleTabPress(t){switch(t.shiftKey?Ct.directions.LEFT:Ct.directions.RIGHT){case Ct.directions.RIGHT:this.flipRight();break;case Ct.directions.LEFT:this.flipLeft()}}handleEnterPress(t){this.activated&&(this.iterator.currentItem&&(t.stopPropagation(),t.preventDefault(),this.iterator.currentItem.click()),N(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((t=>t()))}}const xt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Et='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>';function Lt(t){return(e,n)=>[[t,e].filter((t=>!!t)).join("__"),n].filter((t=>!!t)).join("--")}const St=Lt("ce-hint"),At={root:St(),alignedStart:St(null,"align-left"),alignedCenter:St(null,"align-center"),title:St("title"),description:St("description")};class It{constructor(t){this.nodes={root:q.make("div",[At.root,"center"===t.alignment?At.alignedCenter:At.alignedStart]),title:q.make("div",At.title,{textContent:t.title})},this.nodes.root.appendChild(this.nodes.title),void 0!==t.description&&(this.nodes.description=q.make("div",At.description,{textContent:t.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class Bt{constructor(t){this.params=t}get name(){if(void 0!==this.params&&"name"in this.params)return this.params.name}destroy(){bt()}onChildrenOpen(){var t;void 0!==this.params&&"children"in this.params&&"function"==typeof(null==(t=this.params.children)?void 0:t.onOpen)&&this.params.children.onOpen()}onChildrenClose(){var t;void 0!==this.params&&"children"in this.params&&"function"==typeof(null==(t=this.params.children)?void 0:t.onClose)&&this.params.children.onClose()}handleClick(){var t,e;void 0!==this.params&&"onActivate"in this.params&&(null==(e=(t=this.params).onActivate)||e.call(t,this.params))}addHint(t,e){yt(t,new It(e).getElement(),{placement:e.position,hidingDelay:100})}get children(){var t;return void 0!==this.params&&"children"in this.params&&void 0!==(null==(t=this.params.children)?void 0:t.items)?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var t;return void 0!==this.params&&"children"in this.params&&!0===(null==(t=this.params.children)?void 0:t.isOpen)}get isChildrenFlippable(){var t;return!(void 0===this.params||!("children"in this.params)||!1===(null==(t=this.params.children)?void 0:t.isFlippable))}get isChildrenSearchable(){var t;return void 0!==this.params&&"children"in this.params&&!0===(null==(t=this.params.children)?void 0:t.searchable)}get closeOnActivate(){return void 0!==this.params&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return void 0!==this.params&&"isActive"in this.params&&("function"==typeof this.params.isActive?this.params.isActive():!0===this.params.isActive)}}const Mt=Lt("ce-popover-item"),Nt={container:Mt(),active:Mt(null,"active"),disabled:Mt(null,"disabled"),focused:Mt(null,"focused"),hidden:Mt(null,"hidden"),confirmationState:Mt(null,"confirmation"),noHover:Mt(null,"no-hover"),noFocus:Mt(null,"no-focus"),title:Mt("title"),secondaryTitle:Mt("secondary-title"),icon:Mt("icon"),iconTool:Mt("icon","tool"),iconChevronRight:Mt("icon","chevron-right"),wobbleAnimation:Lt("wobble")()};class Ot extends Bt{constructor(t,e){super(t),this.params=t,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var t;null==(t=this.nodes.root)||t.classList.remove(Nt.noFocus)},this.removeSpecialHoverBehavior=()=>{var t;null==(t=this.nodes.root)||t.classList.remove(Nt.noHover)},this.onErrorAnimationEnd=()=>{var t,e;null==(t=this.nodes.icon)||t.classList.remove(Nt.wobbleAnimation),null==(e=this.nodes.icon)||e.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(t,e)}get isDisabled(){return!0===this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return null!==this.confirmationState}get isFocused(){return null!==this.nodes.root&&this.nodes.root.classList.contains(Nt.focused)}getElement(){return this.nodes.root}handleClick(){this.isConfirmationStateEnabled&&null!==this.confirmationState?this.activateOrEnableConfirmationMode(this.confirmationState):this.activateOrEnableConfirmationMode(this.params)}toggleActive(t){var e;null==(e=this.nodes.root)||e.classList.toggle(Nt.active,t)}toggleHidden(t){var e;null==(e=this.nodes.root)||e.classList.toggle(Nt.hidden,t)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(t,e){var n,i;const o=(null==e?void 0:e.wrapperTag)||"div",s=q.make(o,Nt.container,{type:"button"===o?"button":void 0});return t.name&&(s.dataset.itemName=t.name),this.nodes.icon=q.make("div",[Nt.icon,Nt.iconTool],{innerHTML:t.icon||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>'}),s.appendChild(this.nodes.icon),void 0!==t.title&&s.appendChild(q.make("div",Nt.title,{innerHTML:t.title||""})),t.secondaryLabel&&s.appendChild(q.make("div",Nt.secondaryTitle,{textContent:t.secondaryLabel})),this.hasChildren&&s.appendChild(q.make("div",[Nt.icon,Nt.iconChevronRight],{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>'})),this.isActive&&s.classList.add(Nt.active),t.isDisabled&&s.classList.add(Nt.disabled),void 0!==t.hint&&!1!==(null==(n=null==e?void 0:e.hint)?void 0:n.enabled)&&this.addHint(s,{...t.hint,position:(null==(i=null==e?void 0:e.hint)?void 0:i.position)||"right"}),s}enableConfirmationMode(t){if(null===this.nodes.root)return;const e={...this.params,...t,confirmation:"confirmation"in t?t.confirmation:void 0},n=this.make(e);this.nodes.root.innerHTML=n.innerHTML,this.nodes.root.classList.add(Nt.confirmationState),this.confirmationState=t,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(null===this.nodes.root)return;const t=this.make(this.params);this.nodes.root.innerHTML=t.innerHTML,this.nodes.root.classList.remove(Nt.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var t,e,n;null==(t=this.nodes.root)||t.classList.add(Nt.noHover),null==(e=this.nodes.root)||e.classList.add(Nt.noFocus),null==(n=this.nodes.root)||n.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var t;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),null==(t=this.nodes.root)||t.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(t){var e;if("confirmation"in t&&void 0!==t.confirmation)this.enableConfirmationMode(t.confirmation);else try{null==(e=t.onActivate)||e.call(t,t),this.disableConfirmationMode()}catch{this.animateError()}}animateError(){var t,e,n;null!=(t=this.nodes.icon)&&t.classList.contains(Nt.wobbleAnimation)||(null==(e=this.nodes.icon)||e.classList.add(Nt.wobbleAnimation),null==(n=this.nodes.icon)||n.addEventListener("animationend",this.onErrorAnimationEnd))}}const Pt=Lt("ce-popover-item-separator"),_t={container:Pt(),line:Pt("line"),hidden:Pt(null,"hidden")};class Ht extends Bt{constructor(){super(),this.nodes={root:q.make("div",_t.container),line:q.make("div",_t.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(t){var e;null==(e=this.nodes.root)||e.classList.toggle(_t.hidden,t)}}var Rt=(t=>(t.Closed="closed",t.ClosedOnActivate="closed-on-activate",t))(Rt||{});const Dt=Lt("ce-popover"),Ft={popover:Dt(),popoverContainer:Dt("container"),popoverOpenTop:Dt(null,"open-top"),popoverOpenLeft:Dt(null,"open-left"),popoverOpened:Dt(null,"opened"),search:Dt("search"),nothingFoundMessage:Dt("nothing-found-message"),nothingFoundMessageDisplayed:Dt("nothing-found-message","displayed"),items:Dt("items"),overlay:Dt("overlay"),overlayHidden:Dt("overlay","hidden"),popoverNested:Dt(null,"nested"),getPopoverNestedClass:t=>Dt(null,`nested-level-${t.toString()}`),popoverInline:Dt(null,"inline"),popoverHeader:Dt("header")};var jt=(t=>(t.NestingLevel="--nesting-level",t.PopoverHeight="--popover-height",t.InlinePopoverWidth="--inline-popover-width",t.TriggerItemLeft="--trigger-item-left",t.TriggerItemTop="--trigger-item-top",t))(jt||{});const Ut=Lt("ce-popover-item-html"),Vt={root:Ut(),hidden:Ut(null,"hidden")};class zt extends Bt{constructor(t,e){var n,i;super(t),this.nodes={root:q.make("div",Vt.root)},this.nodes.root.appendChild(t.element),t.name&&(this.nodes.root.dataset.itemName=t.name),void 0!==t.hint&&!1!==(null==(n=null==e?void 0:e.hint)?void 0:n.enabled)&&this.addHint(this.nodes.root,{...t.hint,position:(null==(i=null==e?void 0:e.hint)?void 0:i.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(t){var e;null==(e=this.nodes.root)||e.classList.toggle(Vt.hidden,t)}getControls(){const t=this.nodes.root.querySelectorAll(`button, ${q.allInputsSelector}`);return Array.from(t)}}class Kt extends J{constructor(t,e={}){super(),this.params=t,this.itemsRenderParams=e,this.listeners=new Q,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(t.items),t.messages&&(this.messages={...this.messages,...t.messages}),this.nodes={},this.nodes.popoverContainer=q.make("div",[Ft.popoverContainer]),this.nodes.nothingFoundMessage=q.make("div",[Ft.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=q.make("div",[Ft.items]),this.items.forEach((t=>{const e=t.getElement();null!==e&&this.nodes.items.appendChild(e)})),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",(t=>this.handleClick(t))),this.nodes.popover=q.make("div",[Ft.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter((t=>t instanceof Ot))}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Ft.popoverOpened),void 0!==this.search&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Ft.popoverOpened),this.nodes.popover.classList.remove(Ft.popoverOpenTop),this.itemsDefault.forEach((t=>t.reset())),void 0!==this.search&&this.search.clear(),this.emit(Rt.Closed)}destroy(){var t;this.items.forEach((t=>t.destroy())),this.nodes.popover.remove(),this.listeners.removeAll(),null==(t=this.search)||t.destroy()}activateItemByName(t){const e=this.items.find((e=>e.name===t));this.handleItemClick(e)}buildItems(t){return t.map((t=>{switch(t.type){case st.Separator:return new Ht;case st.Html:return new zt(t,this.itemsRenderParams[st.Html]);default:return new Ot(t,this.itemsRenderParams[st.Default])}}))}getTargetItem(t){return this.items.filter((t=>t instanceof Ot||t instanceof zt)).find((e=>{const n=e.getElement();return null!==n&&t.composedPath().includes(n)}))}handleItemClick(t){if(!("isDisabled"in t)||!t.isDisabled){if(t.hasChildren)return this.showNestedItems(t),void("handleClick"in t&&"function"==typeof t.handleClick&&t.handleClick());this.itemsDefault.filter((e=>e!==t)).forEach((t=>t.reset())),"handleClick"in t&&"function"==typeof t.handleClick&&t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&(this.hide(),this.emit(Rt.ClosedOnActivate))}}handleClick(t){const e=this.getTargetItem(t);void 0!==e&&this.handleItemClick(e)}toggleItemActivenessIfNeeded(t){if(t instanceof Ot&&(!0===t.toggle&&t.toggleActive(),"string"==typeof t.toggle)){const e=this.itemsDefault.filter((e=>e.toggle===t.toggle));if(1===e.length)return void t.toggleActive();e.forEach((e=>{e.toggleActive(e===t)}))}}}var $t=(t=>(t.Search="search",t))($t||{});const Wt=Lt("cdx-search-field"),qt={wrapper:Wt(),icon:Wt("icon"),input:Wt("input")};class Xt extends J{constructor({items:t,placeholder:e}){super(),this.listeners=new Q,this.items=t,this.wrapper=q.make("div",qt.wrapper);const n=q.make("div",qt.icon,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});this.input=q.make("input",qt.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",(()=>{this.searchQuery=this.input.value,this.emit($t.Search,{query:this.searchQuery,items:this.foundItems})}))}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit($t.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter((t=>this.checkItem(t)))}checkItem(t){var e,n;const i=(null==(e=t.title)?void 0:e.toLowerCase())||"",o=null==(n=this.searchQuery)?void 0:n.toLowerCase();return void 0!==o&&i.includes(o)}}var Gt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor;const Jt=class t extends Kt{constructor(t,e){super(t,e),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var t;super.hide(),this.destroyNestedPopoverIfExists(),null==(t=this.flipper)||t.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const t=this.itemsDefault.find((t=>t.isFocused));null==t||t.onFocus()},this.onSearch=t=>{var e;const n=""===t.query,i=0===t.items.length;this.items.forEach((e=>{let o=!1;e instanceof Ot?o=!t.items.includes(e):(e instanceof Ht||e instanceof zt)&&(o=i||!n),e.toggleHidden(o)})),this.toggleNothingFoundMessage(i);const o=""===t.query?this.flippableElements:t.items.map((t=>t.getElement()));null!=(e=this.flipper)&&e.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))},void 0!==t.nestingLevel&&(this.nestingLevel=t.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Ft.popoverNested),void 0!==t.scopeElement&&(this.scopeElement=t.scopeElement),null!==this.nodes.popoverContainer&&this.listeners.on(this.nodes.popoverContainer,"mouseover",(t=>this.handleHover(t))),t.searchable&&this.addSearch(),!1!==t.flippable&&(this.flipper=new Tt({items:this.flippableElements,focusedItemClass:Nt.focused,allowedKeys:[T,L,S,x]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return void 0!==this.flipper&&this.flipper.hasFocus()}get scrollTop(){return null===this.nodes.items?0:this.nodes.items.scrollTop}get offsetTop(){return null===this.nodes.popoverContainer?0:this.nodes.popoverContainer.offsetTop}show(){var t;this.nodes.popover.style.setProperty(jt.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Ft.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Ft.popoverOpenLeft),super.show(),null==(t=this.flipper)||t.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(t){null!==this.nestedPopover&&void 0!==this.nestedPopover||(this.nestedPopoverTriggerItem=t,this.showNestedPopoverForItem(t))}handleHover(t){const e=this.getTargetItem(t);void 0!==e&&this.previouslyHoveredItem!==e&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=e,e.hasChildren&&this.showNestedPopoverForItem(e))}setTriggerItemPosition(t,e){const n=e.getElement(),i=(n?n.offsetTop:0)-this.scrollTop,o=this.offsetTop+i;t.style.setProperty(jt.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var t,e;void 0===this.nestedPopover||null===this.nestedPopover||(this.nestedPopover.off(Rt.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,null==(t=this.flipper)||t.activate(this.flippableElements),null==(e=this.nestedPopoverTriggerItem)||e.onChildrenClose())}showNestedPopoverForItem(e){var n;this.nestedPopover=new t({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Rt.ClosedOnActivate,this.hide);const i=this.nestedPopover.getElement();return this.nodes.popover.appendChild(i),this.setTriggerItemPosition(i,e),i.style.setProperty(jt.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),null==(n=this.flipper)||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(void 0===this.nodes.popover||null===this.nodes.popover)return!1;const t=this.nodes.popoverContainer.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.size.height,i=t.top+n,o=t.top-n,s=Math.min(window.innerHeight,e.bottom);return o<e.top||i<=s}get shouldOpenRight(){if(void 0===this.nodes.popover||null===this.nodes.popover)return!1;const t=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),n=this.size.width,i=t.right+n,o=t.left-n,s=Math.min(window.innerWidth,e.right);return o<e.left||i<=s}get size(){var t;const e={height:0,width:0};if(null===this.nodes.popover)return e;const n=this.nodes.popover.cloneNode(!0);n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(Ft.popoverOpened),null==(t=n.querySelector("."+Ft.popoverNested))||t.remove(),document.body.appendChild(n);const i=n.querySelector("."+Ft.popoverContainer);return e.height=i.offsetHeight,e.width=i.offsetWidth,n.remove(),e}get flippableElements(){return this.items.map((t=>t instanceof Ot?t.getElement():t instanceof zt?t.getControls():void 0)).flat().filter((t=>null!=t))}addSearch(){this.search=new Xt({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on($t.Search,this.onSearch);const t=this.search.getElement();t.classList.add(Ft.search),this.nodes.popoverContainer.insertBefore(t,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Ft.nothingFoundMessageDisplayed,t)}};((t,e,n,i)=>{for(var o,s=i>1?void 0:i?Yt(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);i&&s&&Gt(e,n,s)})([K],Jt.prototype,"size",1);let Qt=Jt;const Zt=class t{constructor(){this.scrollPosition=null}lock(){W?this.lockHard():document.body.classList.add(t.CSS.scrollLocked)}unlock(){W?this.unlockHard():document.body.classList.remove(t.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(t.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(t.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Zt.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let te=Zt;const ee=Lt("ce-popover-header"),ne={root:ee(),text:ee("text"),backButton:ee("back-button")};class ie{constructor({text:t,onBackButtonClick:e}){this.listeners=new Q,this.text=t,this.onBackButtonClick=e,this.nodes={root:q.make("div",[ne.root]),backButton:q.make("button",[ne.backButton]),text:q.make("div",[ne.text])},this.nodes.backButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class oe{constructor(){this.history=[]}push(t){this.history.push(t)}pop(){return this.history.pop()}get currentTitle(){return 0===this.history.length?"":this.history[this.history.length-1].title}get currentItems(){return 0===this.history.length?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class se extends Kt{constructor(t){super(t,{[st.Default]:{hint:{enabled:!1}},[st.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new te,this.history=new oe,this.isHidden=!0,this.nodes.overlay=q.make("div",[Ft.overlay,Ft.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",(()=>{this.hide()})),this.history.push({items:t.items})}show(){this.nodes.overlay.classList.remove(Ft.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Ft.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(t){this.updateItemsAndHeader(t.children,t.title),this.history.push({title:t.title,items:t.children})}updateItemsAndHeader(t,e){if(null!==this.header&&void 0!==this.header&&(this.header.destroy(),this.header=null),void 0!==e){this.header=new ie({text:e,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const t=this.header.getElement();null!==t&&this.nodes.popoverContainer.insertBefore(t,this.nodes.popoverContainer.firstChild)}this.items.forEach((t=>{var e;return null==(e=t.getElement())?void 0:e.remove()})),this.items=this.buildItems(t),this.items.forEach((t=>{var e;const n=t.getElement();null!==n&&(null==(e=this.nodes.items)||e.appendChild(n))}))}}var re={exports:{}};!function(t){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.r(e);var s=function(){function t(e){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.commands={},this.keys={},this.name=e.name,this.parseShortcutName(e.name),this.element=e.on,this.callback=e.callback,this.executeShortcut=function(t){n.execute(t)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return o(t,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),o(t,[{key:"parseShortcutName",value:function(e){e=e.split("+");for(var n=0;n<e.length;n++){e[n]=e[n].toUpperCase();var i=!1;for(var o in t.supportedCommands)if(t.supportedCommands[o].includes(e[n])){i=this.commands[o]=!0;break}i||(this.keys[e[n]]=!0)}for(var s in t.supportedCommands)this.commands[s]||(this.commands[s]=!1)}},{key:"execute",value:function(e){var n,i={CMD:e.ctrlKey||e.metaKey,SHIFT:e.shiftKey,ALT:e.altKey},o=!0;for(n in this.commands)this.commands[n]!==i[n]&&(o=!1);var s,r=!0;for(s in this.keys)r=r&&e.keyCode===t.keyCodes[s];o&&r&&this.callback(e)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),t}();e.default=s}]).default}(re);const ae=w(re.exports);const le=new class{constructor(){this.registeredShortcuts=new Map}add(t){if(this.findShortcut(t.on,t.name))throw Error(`Shortcut ${t.name} is already registered for ${t.on}. Please remove it before add a new handler.`);const e=new ae({name:t.name,on:t.on,callback:t.handler}),n=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[...n,e])}remove(t,e){const n=this.findShortcut(t,e);if(!n)return;n.remove();const i=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,i.filter((t=>t!==n)))}findShortcut(t,e){return(this.registeredShortcuts.get(t)||[]).find((({name:t})=>t===e))}};var ce=Object.defineProperty,de=Object.getOwnPropertyDescriptor,he=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?de(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&ce(e,n,s),s};const ue=class t extends J{constructor({api:e,tools:n,i18nLabels:i}){super(),this.opened=!1,this.listeners=new Q,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=n,this.i18nLabels=i,this.enableShortcuts(),this.nodes={toolbox:q.make("div",t.CSS.toolbox)},this.initPopover(),this.api.events.on(et,this.handleMobileLayoutToggle)}get isEmpty(){return 0===this.toolsToBeDisplayed.length}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(null!==this.popover)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),null==(t=this.popover)||t.off(Rt.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(et,this.handleMobileLayoutToggle)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||(null==(t=this.popover)||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;null==(t=this.popover)||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var t;const e=$()?se:Qt;this.popover=new e({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Rt.Closed,this.onPopoverClose),null==(t=this.nodes.toolbox)||t.append(this.popover.getElement())}destroyPopover(){null!==this.popover&&(this.popover.hide(),this.popover.off(Rt.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),null!==this.nodes.toolbox&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const t=[];return this.tools.forEach((e=>{e.toolbox&&t.push(e)})),t}get toolboxItemsToBeDisplayed(){const t=(t,e)=>({icon:t.icon,title:Y.t(kt.toolNames,t.title||U(e.name)),name:e.name,onActivate:()=>{this.toolButtonActivated(e.name,t.data)},secondaryLabel:e.shortcut?z(e.shortcut):""});return this.toolsToBeDisplayed.reduce(((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach((i=>{e.push(t(i,n))})):void 0!==n.toolbox&&e.push(t(n.toolbox,n)),e)),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach((t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)}))}enableShortcutForTool(t,e){le.add({name:e,on:this.api.ui.nodes.redactor,handler:async e=>{e.preventDefault();const n=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(n);if(i)try{const e=await this.api.blocks.convert(i.id,t);return void this.api.caret.setToBlock(e,"end")}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach((t=>{const e=t.shortcut;e&&le.remove(this.api.ui.nodes.redactor,e)}))}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(n);if(!i)return;const o=i.isEmpty?n:n+1;let s;if(e){const n=await this.api.blocks.composeBlockData(t);s=Object.assign(n,e)}const r=this.api.blocks.insert(t,s,void 0,o,void 0,i.isEmpty);r.call(rt.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:r}),this.api.toolbar.close()}};he([K],ue.prototype,"toolsToBeDisplayed",1),he([K],ue.prototype,"toolboxItemsToBeDisplayed",1);var pe=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(pe||{}),fe=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(fe||{}),ge=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(ge||{}),me=(t=>(t.IsInline="isInline",t.Title="title",t))(me||{}),ve=(t=>(t.IsTune="isTune",t))(ve||{});class be{constructor({name:t,constructable:e,config:n,api:i,isDefault:o,isInternal:s=!1,defaultPlaceholder:r}){this.api=i,this.name=t,this.constructable=e,this.config=n,this.isDefault=o,this.isInternal=s,this.defaultPlaceholder=r}get settings(){const t=this.config.config||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}reset(){if(N(this.constructable.reset))return this.constructable.reset()}prepare(){if(N(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const t=this.constructable.shortcut;return this.config.shortcut||t}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===pe.Inline}isBlock(){return this.type===pe.Block}isTune(){return this.type===pe.Tune}}const ye=class t extends Z{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(!1===t.pasteConfig)return void this.exceptionList.push(t.name);if(!N(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){B(`Paste handling for «${t.name}» Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,i=e.setCurrentBlockByChildNode(t.target);!i||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||i&&this.exceptionList.includes(i.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,i=t.types;if((i.includes?i.includes("Files"):i.contains("Files"))&&!R(this.toolsFiles))return void await this.processFiles(t.files);const o=t.getData(this.MIME_TYPE),s=t.getData("text/plain");let r=t.getData("text/html");if(o)try{return void this.insertEditorJSData(JSON.parse(o))}catch{}e&&s.trim()&&r.trim()&&(r="<p>"+(r.trim()?r:s)+"</p>");const a=Object.keys(this.toolsTags).reduce(((t,e)=>(t[e.toLowerCase()]=this.toolsTags[e].sanitizationConfig??{},t)),{}),l=ht(r,Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}));l.trim()&&l.trim()!==s&&q.isHTMLString(l)?await this.processText(l,!0):await this.processText(s)}async processText(t,e=!1){const{Caret:n,BlockManager:i}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(1===o.length)return void(o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop()));const s=i.currentBlock&&i.currentBlock.tool.isDefault&&i.currentBlock.isEmpty;o.map((async(t,e)=>this.insertBlock(t,0===e&&s))),i.currentBlock&&n.setToBlock(i.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return P(t)?[t]:O(t)?Object.keys(t):[]}getTagsConfig(t){if(!1===t.pasteConfig)return;const e=t.pasteConfig.tags||[],n=[];e.forEach((e=>{const i=this.collectTagNames(e);n.push(...i),i.forEach((n=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,n))return void B(`Paste handler for «${t.name}» Tool on «${n}» tag is skipped because it is already used by «${this.toolsTags[n].tool.name}» Tool.`,"warn");const i=O(e)?e[n]:null;this.toolsTags[n.toUpperCase()]={tool:t,sanitizationConfig:i}}))})),this.tagsByTool[t.name]=n.map((t=>t.toUpperCase()))}getFilesConfig(t){if(!1===t.pasteConfig)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:i}=e;!n&&!i||(n&&!Array.isArray(n)&&(B(`«extensions» property of the onDrop config for «${t.name}» Tool should be an array`),n=[]),i&&!Array.isArray(i)&&(B(`«mimeTypes» property of the onDrop config for «${t.name}» Tool should be an array`),i=[]),i&&(i=i.filter((e=>!!function(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}(e)||(B(`MIME type value «${e}» for the «${t.name}» Tool is not a valid MIME type`,"warn"),!1)))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:i||[]})}getPatternsConfig(t){!1===t.pasteConfig||!t.pasteConfig.patterns||R(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach((([e,n])=>{n instanceof RegExp||B(`Pattern ${n} for «${t.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})}))}isNativeBehaviour(t){return q.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map((t=>this.processFile(t)))),n=n.filter((t=>!!t));const i=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach(((t,n)=>{e.paste(t.type,t.event,0===n&&i)}))}async processFile(t){const e=function(t){return t.name.split(".").pop()}(t),n=Object.entries(this.toolsFiles).find((([n,{mimeTypes:i,extensions:o}])=>{const[s,r]=t.type.split("/"),a=o.find((t=>t.toLowerCase()===e.toLowerCase())),l=i.find((t=>{const[e,n]=t.split("/");return e===s&&(n===r||"*"===n)}));return!!a||!!l}));if(!n)return;const[i]=n;return{event:this.composePasteEvent("file",{file:t}),type:i}}processHTML(t){const{Tools:e}=this.Editor,n=q.make("DIV");return n.innerHTML=t,this.getNodes(n).map((t=>{let n,i=e.defaultTool,o=!1;switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:n=q.make("div"),n.appendChild(t);break;case Node.ELEMENT_NODE:n=t,o=!0,this.toolsTags[n.tagName]&&(i=this.toolsTags[n.tagName].tool)}const{tags:s}=i.pasteConfig||{tags:[]},r=s.reduce(((t,e)=>(this.collectTagNames(e).forEach((n=>{const i=O(e)?e[n]:null;t[n.toLowerCase()]=i||{}})),t)),{}),a=Object.assign({},r,i.baseSanitizeConfig);if("table"===n.tagName.toLowerCase()){const t=ht(n.outerHTML,a);n=q.make("div",void 0,{innerHTML:t}).firstChild}else n.innerHTML=ht(n.innerHTML,a);const l=this.composePasteEvent("tag",{data:n});return{content:n,isBlock:o,tool:i.name,event:l}})).filter((t=>{const e=q.isEmpty(t.content),n=q.isSingleTag(t.content);return!e||n}))}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter((t=>t.trim())).map((t=>{const e=q.make("div");e.textContent=t;const i=this.composePasteEvent("tag",{data:e});return{content:e,tool:n,isBlock:!1,event:i}}))}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:i}=n;i&&t.tool===i.name&&q.containsOnlyInlineElements(t.content.innerHTML)?e.insertContentAtCaretPosition(t.content.innerHTML):this.insertBlock(t,(null==i?void 0:i.tool.isDefault)&&i.isEmpty)}async processInlinePaste(e){const{BlockManager:n,Caret:i}=this.Editor,{content:o}=e;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<t.PATTERN_PROCESSING_MAX_LENGTH){const t=await this.processPattern(o.textContent);if(t){const e=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,o=n.paste(t.tool,t.event,e);return void i.setToBlock(o,i.positions.END)}}if(n.currentBlock&&n.currentBlock.currentInput){const t=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,ht(o.innerHTML,t))}else this.insertBlock(e)}async processPattern(t){const e=this.toolsPatterns.find((e=>{const n=e.pattern.exec(t);return!!n&&t===n.shift()}));return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:i}=this.Editor,{currentBlock:o}=n;let s;if(e&&o&&o.isEmpty)return s=n.paste(t.tool,t.event,!0),void i.setToBlock(s,i.positions.END);s=n.paste(t.tool,t.event),i.setToBlock(s,i.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:i}=this.Editor;dt(t,(t=>i.blockTools.get(t).sanitizeConfig)).forEach((({tool:t,data:i},o)=>{let s=!1;0===o&&(s=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const r=e.insert({tool:t,data:i,replace:s});n.setToBlock(r,n.positions.END)}))}processElementNode(t,e,n){const i=Object.keys(this.toolsTags),o=t,{tool:s}=this.toolsTags[o.tagName]||{},r=this.tagsByTool[null==s?void 0:s.name]||[],a=i.includes(o.tagName),l=q.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some((({tagName:t})=>i.includes(t)&&!r.includes(t))),d=Array.from(o.children).some((({tagName:t})=>q.blockElements.includes(t.toLowerCase())));return l||a||c?a&&!c||l&&!d&&!c?[...e,n,o]:void 0:(n.appendChild(o),[...e,n])}getNodes(t){const e=Array.from(t.childNodes);let n;const i=(t,e)=>{if(q.isEmpty(e)&&!q.isSingleTag(e))return t;const o=t[t.length-1];let s=new DocumentFragment;switch(o&&q.isFragment(o)&&(s=t.pop()),e.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(e,t,s),n)return n;break;case Node.TEXT_NODE:return s.appendChild(e),[...t,s];default:return[...t,s]}return[...t,...Array.from(e.childNodes).reduce(i,[])]};return e.reduce(i,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};ye.PATTERN_PROCESSING_MAX_LENGTH=450;!function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(t)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();class ke{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:e,api:n,readOnly:i}){this.api=n,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=e.placeholder?e.placeholder:ke.DEFAULT_PLACEHOLDER,this._data=t??{},this._element=null,this._preserveBlank=e.preserveBlank??!1}onKeyUp(t){if("Backspace"!==t.code&&"Delete"!==t.code||!this._element)return;const{textContent:e}=this._element;""===e&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable="false",t.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable="true",t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}merge(t){if(!this._element)return;this._data.text+=t.text;const e=function(t){const e=document.createElement("div");e.innerHTML=t.trim();const n=document.createDocumentFragment();return n.append(...Array.from(e.childNodes)),n}(t.text);this._element.appendChild(e),this._element.normalize()}validate(t){return!(""===t.text.trim()&&!this._preserveBlank)}save(t){return{text:t.innerHTML}}onPaste(t){const e={text:t.detail.data.innerHTML};this._data=e,window.requestAnimationFrame((()=>{this._element&&(this._element.innerHTML=this._data.text||"")}))}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}class we{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}we.isInline=!0,we.title="Bold";class Ce{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}Ce.isInline=!0,Ce.title="Italic";class Te{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new tt}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=xt,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)})),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t)return this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}checkState(){const t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const e=t.getAttribute("href");this.nodes.input.value="null"!==e?e:"",this.selection.save()}else this.nodes.button.innerHTML=xt,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){const t=new tt;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let e=this.nodes.input.value||"";return e.trim()?this.validateURL(e)?(e=this.prepareLink(e),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(e),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void B("Incorrect Link pasted","warn",e)):(this.selection.restore(),this.unlink(),t.preventDefault(),void this.closeActions())}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t)}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;const e=/^\/[^/\s]/.test(t),n="#"===t.substring(0,1),i=/^\/\/[^/\s]/.test(t);return!e&&!n&&!i&&(t="http://"+t),t}insertLink(t){const e=this.selection.findParentTag("A");e&&this.selection.expandToTag(e),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}Te.isInline=!0,Te.title="Link";class xe{constructor({api:t}){this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}async render(){const t=tt.get(),e=this.blocksAPI.getBlockByElement(t.anchorNode);if(void 0===e)return[];const n=this.toolsAPI.getBlockTools(),i=await ot(e,n);if(0===i.length)return[];const o=i.reduce(((t,n)=>{var i;return null==(i=n.toolbox)||i.forEach((i=>{t.push({icon:i.icon,title:Y.t(kt.toolNames,i.title),name:n.name,closeOnActivate:!0,onActivate:async()=>{const t=await this.blocksAPI.convert(e.id,n.name,i.data);this.caretAPI.setToBlock(t,"end")}})})),t}),[]),s=await e.getActiveToolboxEntry(),r=void 0!==s?s.icon:Et,a=!$();return{icon:r,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:a,items:o,onOpen:()=>{a&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{a&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}xe.isInline=!0;class Ee{constructor({data:t,api:e}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=e,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const t=q.make("div",this.CSS.wrapper),e=q.make("div",this.CSS.info),n=q.make("div",this.CSS.title,{textContent:this.title}),i=q.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',e.appendChild(n),e.appendChild(i),t.appendChild(e),t}}Ee.isReadOnlySupported=!0;class Le extends be{constructor(){super(...arguments),this.type=pe.Inline}get title(){return this.constructable[me.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class Se extends be{constructor(){super(...arguments),this.type=pe.Tune}create(t,e){return new this.constructable({api:this.api,config:this.settings,block:e,data:t})}}class Ae extends Map{get blockTools(){const t=Array.from(this.entries()).filter((([,t])=>t.isBlock()));return new Ae(t)}get inlineTools(){const t=Array.from(this.entries()).filter((([,t])=>t.isInline()));return new Ae(t)}get blockTunes(){const t=Array.from(this.entries()).filter((([,t])=>t.isTune()));return new Ae(t)}get internalTools(){const t=Array.from(this.entries()).filter((([,t])=>t.isInternal));return new Ae(t)}get externalTools(){const t=Array.from(this.entries()).filter((([,t])=>!t.isInternal));return new Ae(t)}}var Ie=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,Me=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?Be(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&Ie(e,n,s),s};class Ne extends be{constructor(){super(...arguments),this.type=pe.Block,this.inlineTools=new Ae,this.tunes=new Ae}create(t,e,n){return new this.constructable({data:t,block:e,readOnly:n,api:this.api,config:this.settings})}get isReadOnlySupported(){return!0===this.constructable[ge.IsReadOnlySupported]}get isLineBreaksEnabled(){return this.constructable[ge.IsEnabledLineBreaks]}get toolbox(){const t=this.constructable[ge.Toolbox],e=this.config[fe.Toolbox];if(!R(t)&&!1!==e)return e?Array.isArray(t)?Array.isArray(e)?e.map(((e,n)=>{const i=t[n];return i?{...i,...e}:e})):[e]:Array.isArray(e)?e:[{...t,...e}]:Array.isArray(t)?t:[t]}get conversionConfig(){return this.constructable[ge.ConversionConfig]}get enabledInlineTools(){return this.config[fe.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[fe.EnabledBlockTunes]}get pasteConfig(){return this.constructable[ge.PasteConfig]??{}}get sanitizeConfig(){const t=super.sanitizeConfig,e=this.baseSanitizeConfig;if(R(t))return e;const n={};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];O(o)?n[i]=Object.assign({},e,o):n[i]=o}return n}get baseSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach((e=>Object.assign(t,e.sanitizeConfig))),Array.from(this.tunes.values()).forEach((e=>Object.assign(t,e.sanitizeConfig))),t}}Me([K],Ne.prototype,"sanitizeConfig",1),Me([K],Ne.prototype,"baseSanitizeConfig",1);class Oe{constructor(t,e,n){this.api=n,this.config=t,this.editorConfig=e}get(t){const{class:e,isInternal:n=!1,...i}=this.config[t],o=this.getConstructor(e),s=e[ve.IsTune];return new o({name:t,constructable:e,config:i,api:this.api.getMethodsForTool(t,s),isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:n})}getConstructor(t){switch(!0){case t[me.IsInline]:return Le;case t[ve.IsTune]:return Se;default:return Ne}}}class Pe{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),e=this.api.blocks.getBlockByIndex(t+1);if(!e)throw new Error("Unable to move Block down since it is already the last");const n=e.holder,i=n.getBoundingClientRect();let o=Math.abs(window.innerHeight-n.offsetHeight);i.top<window.innerHeight&&(o=window.scrollY+n.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}}Pe.isTune=!0;class _e{constructor({api:t}){this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}_e.isTune=!0;class He{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),e=this.api.blocks.getBlockByIndex(t),n=this.api.blocks.getBlockByIndex(t-1);if(0===t||!e||!n)throw new Error("Unable to move Block up since it is already the first");const i=e.holder,o=n.holder,s=i.getBoundingClientRect(),r=o.getBoundingClientRect();let a;a=r.top>0?Math.abs(s.top)-Math.abs(r.top):Math.abs(s.top)+r.height,window.scrollBy(0,-1*a),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}}He.isTune=!0;var Re=Object.defineProperty,De=Object.getOwnPropertyDescriptor;class Fe extends Z{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Ae,this.toolsUnavailable=new Ae}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=V({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||0===Object.keys(this.config.tools).length)throw Error("Can't start without tools");const t=this.prepareConfig();this.factory=new Oe(t,this.config,this.Editor.API);const e=this.getListOfPrepareFunctions(t);if(0===e.length)return Promise.resolve();await D(e,(t=>{this.toolPrepareMethodSuccess(t)}),(t=>{this.toolPrepareMethodFallback(t)})),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach((e=>{Object.assign(t,e.sanitizeConfig)})),t}destroy(){Object.values(this.available).forEach((async t=>{N(t.reset)&&await t.reset()}))}get internalTools(){return{convertTo:{class:xe,isInternal:!0},link:{class:Te,isInternal:!0},bold:{class:we,isInternal:!0},italic:{class:Ce,isInternal:!0},paragraph:{class:ke,inlineToolbar:!0,isInternal:!0},stub:{class:Ee,isInternal:!0},moveUp:{class:He,isInternal:!0},delete:{class:_e,isInternal:!0},moveDown:{class:Pe,isInternal:!0}}}toolPrepareMethodSuccess(t){const e=this.factory.get(t.toolName);if(e.isInline()){const t=["render"].filter((t=>!e.create()[t]));if(t.length)return B(`Incorrect Inline Tool: ${e.name}. Some of required methods is not implemented %o`,"warn",t),void this.toolsUnavailable.set(e.name,e)}this.toolsAvailable.set(e.name,e)}toolPrepareMethodFallback(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}getListOfPrepareFunctions(t){const e=[];return Object.entries(t).forEach((([t,n])=>{e.push({function:N(n.class.prepare)?n.class.prepare:()=>{},data:{toolName:t,config:n.config}})})),e}prepareBlockTools(){Array.from(this.blockTools.values()).forEach((t=>{this.assignInlineToolsToBlockTool(t),this.assignBlockTunesToBlockTool(t)}))}assignInlineToolsToBlockTool(t){if(!1!==this.config.inlineToolbar){if(!0===t.enabledInlineTools)return void(t.inlineTools=new Ae(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((t=>[t,this.inlineTools.get(t)])):Array.from(this.inlineTools.entries())));Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new Ae(["convertTo",...t.enabledInlineTools].map((t=>[t,this.inlineTools.get(t)]))))}}assignBlockTunesToBlockTool(t){if(!1!==t.enabledBlockTunes){if(Array.isArray(t.enabledBlockTunes)){const e=new Ae(t.enabledBlockTunes.map((t=>[t,this.blockTunes.get(t)])));return void(t.tunes=new Ae([...e,...this.blockTunes.internalTools]))}if(Array.isArray(this.config.tunes)){const e=new Ae(this.config.tunes.map((t=>[t,this.blockTunes.get(t)])));return void(t.tunes=new Ae([...e,...this.blockTunes.internalTools]))}t.tunes=this.blockTunes.internalTools}}validateTools(){for(const t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;const e=this.config.tools[t];if(!N(e)&&!N(e.class))throw Error(`Tool «${t}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const t={};for(const e in this.config.tools)O(this.config.tools[e])?t[e]=this.config.tools[e]:t[e]={class:this.config.tools[e]};return t}}((t,e,n,i)=>{for(var o,s=i>1?void 0:i?De(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);i&&s&&Re(e,n,s)})([K],Fe.prototype,"getAllInlineToolsSanitizeConfig",1);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,s,r,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ve(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function ze(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,$e(i.key),i)}}function Ke(t,e,n){return(e=$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==je(e)?e:e+""}var We=function(){return function(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.api;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ke(this,"api",void 0),Ke(this,"availableDesign",{bouton:"link-btn",discret:"ninja"}),Ke(this,"nodes",{wrapper:null,input:null,selectDesign:null,hideForBot:null,targetBlank:null,button:null,linkButton:null,unlinkButton:null}),Ke(this,"inputOpened",!1),Ke(this,"anchorTag",null),Ke(this,"selection",void 0),this.api=n,this.selection=new v}),[{key:"render",value:function(){return console.log("render"),this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.api.styles.inlineToolButton),this.nodes.button.innerHTML=y,this.nodes.button}},{key:"renderActions",value:function(){var t,e=this;console.log("renderActions",this.nodes.input),this.nodes.input=b.A.element("input",this.api.styles.input,{placeholder:"https://..."}),this.nodes.suggester=b.A.element("div","textSuggester",{style:"display:none"});new k.Local(this.nodes.input,this.nodes.suggester,null!==(t=window.pagesUriList)&&void 0!==t?t:[],{highlight:!0,dispMax:20,dispAllKey:!0}),this.nodes.hideForBot=b.A.switchInput("hideForBot",this.api.i18n.t("Obfusquer")),this.nodes.targetBlank=b.A.switchInput("targetBlank",this.api.i18n.t("Nouvel onglet")),this.nodes.selectDesign=b.A.element("select",this.api.styles.input),b.A.option(this.nodes.selectDesign,"",this.api.i18n.t("Style"),{style:"opacity: 0.5"});for(var n=0,i=Object.entries(this.availableDesign);n<i.length;n++){var o=Ue(i[n],2),s=o[0],r=o[1];b.A.option(this.nodes.selectDesign,r,s)}return this.nodes.wrapper=document.createElement("div"),this.nodes.wrapper.classList.add("link-options-wrapper"),this.nodes.wrapper.append(this.nodes.input,this.nodes.suggester,this.nodes.hideForBot,this.nodes.targetBlank,this.nodes.selectDesign),this.nodes.wrapper.addEventListener("change",(function(t){e.updateLink()})),this.nodes.input.addEventListener("keydown",(function(t){"Enter"===t.key&&(console.log("press ENTER"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.updateLink(),e.closeActions())})),console.log("/renderActions"),this.nodes.wrapper}},{key:"checkState",value:function(){var t=this;console.log("checkState");var e=this.anchorTag||this.api.selection.findParentTag("A");return e?(this.showUnlink(),this.anchorTag=e,this.openActions(),this.updateActionValues(e),setTimeout((function(){return t.nodes.input.focus()}),0),console.log("/checkState"),!0):(this.showUnlink(!1),!1)}},{key:"surround",value:function(t){if(console.log("surround",t,this.anchorTag),t){this.inputOpened&&(this.selection.restore(),this.selection.removeFakeBackground());var e=this.api.selection.findParentTag("A")||this.anchorTag;if(console.log(e,this.inputOpened),e)return this.unlink(e),void this.closeActions();console.log("create A"),this.anchorTag=document.createElement("A"),this.anchorTag.appendChild(t.extractContents()),t.insertNode(this.anchorTag),this.api.selection.expandToTag(this.anchorTag),this.selection.setFakeBackground(),this.selection.save(),this.openActions(!0)}else this.toggleActions()}},{key:"showUnlink",value:function(){var t,e;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])return null===(e=this.nodes.button)||void 0===e||e.classList.add(this.api.styles.inlineToolButtonActive),void(this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>');this.nodes.button.innerHTML=y,null===(t=this.nodes.button)||void 0===t||t.classList.remove(this.api.styles.inlineToolButtonActive)}},{key:"updateActionValues",value:function(t){if(console.log("updateActionValues"),this.nodes.input){var e=t.getAttribute("href");this.nodes.input.value=e||"";var n=t.getAttribute("rel");this.nodes.hideForBot.querySelector("input").checked=!!n;var i=t.getAttribute("target");this.nodes.targetBlank.querySelector("input").checked=!!i;var o=t.getAttribute("class");this.nodes.selectDesign.value=o||"",console.log("/updateActionValues")}}},{key:"shortcut",get:function(){return"CMD+K"}},{key:"clear",value:function(){console.log("CLEAR"),this.selection.restore(),this.selection.removeFakeBackground()}},{key:"toggleActions",value:function(){console.log("toggleActions",this.inputOpened),this.inputOpened?this.closeActions():this.openActions(!0)}},{key:"openActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("openActions"),this.nodes.wrapper.style.display="block",t&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){if(this.selection.isFakeBackgroundEnabled){var t=new v;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}(this.nodes.input.value||"").trim()||this.unlink(this.anchorTag),this.inputOpened=!1,this.api.inlineToolbar.close(),this.api.toolbar.close()}},{key:"updateLink",value:function(){var t=this.nodes.input.value.trim()||"";this.anchorTag.setAttribute("href",t);var e=this.nodes.targetBlank.querySelector("input").checked?"_blank":"";e?this.anchorTag.setAttribute("target",e):this.anchorTag.removeAttribute("target");var n=this.nodes.hideForBot.querySelector("input").checked?"obfuscate":"";n?this.anchorTag.setAttribute("rel",n):this.anchorTag.removeAttribute("rel");var i=this.nodes.selectDesign.value||"";return i?this.anchorTag.className=i:this.anchorTag.removeAttribute("class"),this.anchorTag}},{key:"unlink",value:function(t){var e;if(console.log("- unlink",t,this.anchorTag),t){this.api.selection.expandToTag(t);var n=window.getSelection();if(n){var i=n.getRangeAt(0);if(i){var o=i.extractContents();o&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t),i.insertNode(o),n.removeAllRanges(),n.addRange(i),console.log("removed"))}}}}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{a:{href:!0,target:!0,rel:!0,class:!0}}}}])}();Ke(We,"isInline",!0),Ke(We,"title","Link")},9110:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(1601),o=n.n(i),s=n(6314),r=n.n(s)()(o());r.push([t.id,".link-options-wrapper {\n  outline: none;\n  border: 0;\n  border-radius: 0 0 4px 4px;\n  margin: 0;\n  font-size: 13px;\n  padding: 10px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  font-weight: 500;\n  border-top: 1px solid rgba(201, 201, 204, 0.48);\n}\n\n.ninja {\n  text-decoration: none !important;\n  color: inherit !important;\n  border-bottom: 1px dotted #333;\n}\n\n.link-btn {\n  padding: 6px 12px;\n  margin-bottom: 0;\n  border-radius: 3px;\n  border: 1px solid transparent;\n  cursor: pointer;\n  color: #fff;\n  background-color: #3c8dbc;\n  border-color: #367fa9;\n  outline: none;\n  text-decoration: none !important;\n}\n\n.link-btn:hover {\n  color: #fff !important;\n}\n\n.editor-switch {\n  padding-left: 4px;\n  padding-right: 10px;\n  margin-bottom: 10px;\n  margin-top: 5px;\n}\n\n.editor-switch > input[type='checkbox'] {\n  display: none;\n}\n\n.editor-switch label {\n  font-weight: normal;\n}\n.editor-switch > .label-default {\n  cursor: pointer;\n  height: 0px;\n  position: relative;\n  width: 30px;\n}\n\n.editor-switch > .label-default::before {\n  background: rgb(0, 0, 0);\n  box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\n  border-radius: 8px;\n  content: '';\n  height: 12px;\n  margin-top: -5px;\n  position: absolute;\n  opacity: 0.3;\n  transition: all 0.4s ease-in-out;\n  width: 20px;\n}\n.editor-switch > .label-default::after {\n  background: rgb(255, 255, 255);\n  border-radius: 16px;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\n  content: '';\n  height: 16px;\n  left: -4px;\n  position: absolute;\n  top: -7px;\n  transition: all 0.3s ease-in-out;\n  width: 16px;\n}\n.editor-switch > input[type='checkbox']:checked + .label-default::before {\n  background: inherit;\n  opacity: 0.5;\n}\n.editor-switch > input[type='checkbox']:checked + .label-default::after {\n  background: inherit;\n  left: 10px;\n}\n\n.plugin-option-input {\n  border: 1px solid rgba(201, 201, 204, 0.48);\n  box-shadow: inset 0 1px 2px 0 rgb(35 44 72 / 6%);\n  border-radius: 5px;\n  padding: 5px 8px;\n  margin-bottom: 10px;\n  outline: none;\n  width: 100%;\n  box-sizing: border-box;\n  background: #fff;\n}\n\n.ce-popover__container {\n  min-width: 235px !important;\n}\n",""]);const a=r},5678:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(1601),o=n.n(i),s=n(6314),r=n.n(s)()(o());r.push([t.id,".cdx-input-full {\n    width: 100%;\n}\n",""]);const a=r},6314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);i&&r[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},1601:t=>{t.exports=function(t){return t[1]}},4848:(t,e,n)=>{n.d(e,{A:()=>i});const i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">  <path d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14V3.5zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5V6zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7H1.633z"/></svg>\n'},959:(t,e,n)=>{n.d(e,{A:()=>i});const i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>  <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/></svg>\n'},5072:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},r=[],a=0;a<t.length;a++){var l=t[a],c=i.base?l[0]+i.base:l[0],d=s[c]||0,h="".concat(c," ").concat(d);s[c]=d+1;var u=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=o(p,i);i.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}r.push(h)}return r}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var s=i(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var a=n(s[r]);e[a].references--}for(var l=i(t,o),c=0;c<s.length;c++){var d=n(s[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=l}}},7659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var i={};n.d(i,{default:()=>T});var o=n(5072),s=n.n(o),r=n(7825),a=n.n(r),l=n(7659),c=n.n(l),d=n(5056),h=n.n(d),u=n(540),p=n.n(u),f=n(1113),g=n.n(f),m=n(5678),v={};v.styleTagTransform=g(),v.setAttributes=h(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p();s()(m.A,v);m.A&&m.A.locals&&m.A.locals;var b=n(462),y=n(8945);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,C(i.key),i)}}function C(t){var e=function(t,e){if("object"!=k(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==k(e)?e:e+""}var T=function(){return t=function t(e){var n=e.api,i=e.data;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=n,this.data=i||{url:"",hideForBot:!0,targetBlank:!1},this._CSS={classWrapper:"cdx-anchor-tune-wrapper",classIcon:"cdx-anchor-tune-icon",classInput:"cdx-anchor-tune-input"},this.nodes={},this.i18n=n.i18n},n=[{key:"isTune",get:function(){return!0}}],(e=[{key:"render",value:function(){var t=document.createElement("div"),e=document.createElement("div");return e.classList.add(this._CSS.classIcon),e.appendChild(y.default.iconSvg("link",12,12)),this.nodes.url=b.A.input(this,["cdx-input-labeled","cdx-input-full"],"<a href=#>image</a>",this.data.url),this.nodes.hideForBot=b.A.switchInput("hideForBot",this.i18n.t("Obfusquer")),this.nodes.targetBlank=b.A.switchInput("targetBlank",this.i18n.t("Nouvel onglet")),t.appendChild(e),t.appendChild(this.nodes.url),t.appendChild(this.nodes.hideForBot),t.appendChild(this.nodes.targetBlank),t}},{key:"save",value:function(){return this.data}}])&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();return i=i.default})()));