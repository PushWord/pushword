!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(()=>(()=>{"use strict";var t={9069:(t,e,n)=>{n.d(e,{A:()=>c});var i=n(4848),o=n(959);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=[{key:"element",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(t);for(var s in Array.isArray(n)?(e=o.classList).add.apply(e,r(n)):n&&o.classList.add(n),i)o.setAttribute(s,i[s]);return o}},{key:"input",value:function(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=t.element("div",n,{contentEditable:!e.readOnly});return s.dataset.placeholder=e.api.i18n.t(i),o&&(s.textContent=o),s}},{key:"option",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createElement("option");for(var s in o.text=n||e,o.value=e,i)o.setAttribute(s,i[s]);t.add(o)}},{key:"options",value:function(e,n){n.forEach((function(n){return t.option(e,n)}))}},{key:"fileButtons",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=t.element("div",["flex","cdx-input-labeled-preview","cdx-input-labeled","cdx-input","cdx-input-editable"].concat(r(n))),a=t.element("div",[e.api.styles.button]);if(a.innerHTML=i.A+" "+e.api.i18n.t("Select"),a.addEventListener("click",(function(t){return e.onSelectFile(e,t)})),s.appendChild(a),e.onUploadFile){var l=t.element("div",[e.api.styles.button]);l.innerHTML="".concat(o.A," ").concat(e.api.i18n.t("Upload")),l.style.marginLeft="-2px",l.addEventListener("click",(function(t){return e.onUploadFile(e,t)})),s.appendChild(l)}return s}},{key:"switchInput",value:function(e,n){var i=t.element("div","editor-switch"),o=t.element("input",null,{type:"checkbox",id:e}),s=t.element("label","label-default",{for:e}),r=t.element("label","",{for:e});return r.innerHTML=n,i.append(o,s,r),i}}],null&&l(e.prototype,null),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}()},9973:(t,e,n)=>{n.d(e,{default:()=>A});var i=n(5072),o=n.n(i),s=n(7825),r=n.n(s),a=n(7659),l=n.n(a),u=n(5056),c=n.n(u),h=n(540),d=n.n(h),p=n(1113),g=n.n(p),f=n(7801),v={};v.styleTagTransform=g(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=d(),o()(f.A,v),f.A&&f.A.locals&&f.A.locals;var m=n(9069);class y{constructor(){this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}isElement(t){return t&&"object"==typeof t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}isContentEditable(t){return"true"===t.contentEditable}isNativeInput(t){return!(!t||!t.tagName)&&["INPUT","TEXTAREA"].includes(t.tagName)}canSetCaret(t){let e=!0;if(this.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1}else e=this.isContentEditable(t);return e}CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}anchorNode(){const t=window.getSelection();return t?t.anchorNode:null}anchorElement(){const t=window.getSelection();if(!t)return null;const e=t.anchorNode;return e?this.isElement(e)?e:e.parentElement:null}anchorOffset(){const t=window.getSelection();return t?t.anchorOffset:null}isCollapsed(){const t=window.getSelection();return t?t.isCollapsed:null}isAtEditor(){const t=y.get();let e=t.anchorNode||t.focusNode;e&&e.nodeType===Node.TEXT_NODE&&(e=e.parentNode);let n=null;return e&&(n=e.closest(`.${y.CSS.editorZone}`)),n&&n.nodeType===Node.ELEMENT_NODE}isSelectionExists(){return!!y.get().anchorNode}static get range(){const t=window.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}static get rect(){let t,e=document.selection,n={x:0,y:0,width:0,height:0};if(e&&"Control"!==e.type)return t=e.createRange(),n.x=t.boundingLeft,n.y=t.boundingTop,n.width=t.boundingWidth,n.height=t.boundingHeight,n;if(!window.getSelection)return n;if(e=window.getSelection(),null===e.rangeCount||isNaN(e.rangeCount))return n;if(0===e.rangeCount)return n;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(n=t.getBoundingClientRect()),0===n.x&&0===n.y){const e=document.createElement("span");if(e.getBoundingClientRect){e.appendChild(document.createTextNode("â€‹")),t.insertNode(e),n=e.getBoundingClientRect();const i=e.parentNode;i.removeChild(e),i.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}get(){return window.getSelection()}setCursor(t,e=0){const n=document.createRange(),i=window.getSelection();if(this.isNativeInput(t)){if(!this.canSetCaret(t))return;return t.focus(),t.selectionStart=t.selectionEnd=e,t.getBoundingClientRect()}return n.setStart(t,e),n.setEnd(t,e),i.removeAllRanges(),i.addRange(n),n.getBoundingClientRect()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=y.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),e=document.createRange();e.selectNodeContents(t.focusNode),e.collapse(!1),t.removeAllRanges(),t.addRange(e)}findParentTag(t,e=null,n=10){const i=window.getSelection();let o=null;return i&&i.anchorNode&&i.focusNode?([i.anchorNode,i.focusNode].forEach((i=>{let s=n;for(;s>0&&i.parentNode&&(i.tagName!==t||(o=i,e&&i.classList&&!i.classList.contains(e)&&(o=null),!o));)i=i.parentNode,s--})),o):null}expandToTag(t){const e=window.getSelection();e.removeAllRanges();const n=document.createRange();n.selectNodeContents(t),e.addRange(n)}}const b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';var k={};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,S(i.key),i)}}function S(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}k.LocalMulti=function(){},k.Key={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},k.copyProperties=function(t,e){for(var n in e)t[n]=e[n];return t},k.Local=function(){this.initialize.apply(this,arguments)},k.Local.prototype={initialize:function(t,e,n){this.input=this._getElement(t),this.suggestArea=this._getElement(e),this.candidateList=n,this.oldText=this.getInputText(),arguments[3]&&this.setOptions(arguments[3]),this._addEvent(this.input,"focus",this._bind(this.checkLoop)),this._addEvent(this.input,"blur",this._bind(this.inputBlur)),this._addEvent(this.suggestArea,"blur",this._bind(this.inputBlur)),this._addEvent(this.input,"keydown",this._bindEvent(this.keyEvent)),this.clearSuggestArea()},interval:500,dispMax:20,listTagName:"div",prefix:!1,ignoreCase:!0,highlight:!1,dispAllKey:!1,classMouseOver:"over",classSelect:"select",delim:" ",hookBeforeSearch:null,hookSearchResults:null,setOptions:function(t){k.copyProperties(this,t)},inputBlur:function(){setTimeout(this._bind((function(){document.activeElement!=this.suggestArea&&document.activeElement!=this.input&&(this.changeUnactive(),this.oldText=this.getInputText(),this.timerId&&clearTimeout(this.timerId),this.timerId=null,setTimeout(this._bind(this.clearSuggestArea),500))}),500))},checkLoop:function(){var t=this.getInputText();t!=this.oldText&&(this.oldText=t,this.search()),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this._bind(this.checkLoop),this.interval)},search:function(){this.clearSuggestArea();var t=this.getInputText();if(""!=t&&null!=t){this.hookBeforeSearch&&this.hookBeforeSearch(k,t);var e=this._search(t);this.hookSearchResults&&(e=window[this.hookSearchResults](this,this.getInputValue(),t,e)),0!=e.length&&this.createSuggestArea(e)}},_search:function(t){var e,n=[];this.suggestIndexList=[];for(var i=0,o=this.candidateList.length;i<o;i++)if(null!=(e=this.isMatch(this.candidateList[i],t))){if(this.getInputValue().includes(e.replace(/(<([^>]+)>)/gi,"")))continue;if(n.push(e),this.suggestIndexList.push(i),0!=this.dispMax&&n.length>=this.dispMax)break}return n},isMatch:function(t,e){if(null==t)return null;var n=this.ignoreCase?t.toLowerCase().indexOf(e.toLowerCase()):t.indexOf(e);return-1==n||this.prefix&&0!=n?null:this.highlight?this._escapeHTML(t.substr(0,n))+"<strong>"+this._escapeHTML(t.substr(n,e.length))+"</strong>"+this._escapeHTML(t.substr(n+e.length)):this._escapeHTML(t)},clearSuggestArea:function(){this.suggestArea.innerHTML="",this.suggestArea.style.display="none",this.suggestList=null,this.suggestIndexList=null,this.activePosition=null},createSuggestArea:function(t){this.suggestList=[],this.inputValueBackup=this.getInputValue();for(var e=0,n=t.length;e<n;e++){var i=document.createElement(this.listTagName);i.innerHTML=t[e],this.suggestArea.appendChild(i),this._addEvent(i,"click",this._bindEvent(this.listClick,e)),this._addEvent(i,"mouseover",this._bindEvent(this.listMouseOver,e)),this._addEvent(i,"mouseout",this._bindEvent(this.listMouseOut,e)),this.suggestList.push(i)}this.suggestArea.style.display="",this.suggestArea.scrollTop=0},getInputValue:function(){return this.input instanceof HTMLInputElement?this.input.value:this.input.innerText},getInputText:function(){return this.getInputValue()},setInputValue:function(t){this.input instanceof HTMLInputElement?this.input.value=t:this.input.innerText=t},setInputText:function(t){this.setInputValue(t)},keyEvent:function(t){this.timerId||(this.timerId=setTimeout(this._bind(this.checkLoop),this.interval)),this.dispAllKey&&t.ctrlKey&&""==this.getInputText()&&!this.suggestList&&t.keyCode==k.Key.DOWN?(this._stopEvent(t),this.keyEventDispAll()):t.keyCode==k.Key.UP||t.keyCode==k.Key.DOWN?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventMove(t.keyCode)):t.keyCode==k.Key.RETURN?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventReturn()):t.keyCode==k.Key.ESC?this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.keyEventEsc()):this.keyEventOther(t)},keyEventDispAll:function(){this.clearSuggestArea(),this.oldText=this.getInputText(),this.suggestIndexList=[];for(var t=0,e=this.candidateList.length;t<e;t++)this.suggestIndexList.push(t);this.createSuggestArea(this.candidateList)},keyEventMove:function(t){if(this.changeUnactive(),t==k.Key.UP){if(null==this.activePosition)this.activePosition=this.suggestList.length-1;else if(this.activePosition--,this.activePosition<0)return this.activePosition=null,this.setInputValue(this.inputValueBackup),void(this.suggestArea.scrollTop=0)}else if(null==this.activePosition?this.activePosition=0:this.activePosition++,this.activePosition>=this.suggestList.length)return this.activePosition=null,this.setInputValue(this.inputValueBackup),void(this.suggestArea.scrollTop=0);this.changeActive(this.activePosition)},keyEventReturn:function(){this.clearSuggestArea(),this.moveEnd()},keyEventEsc:function(){this.clearSuggestArea(),this.setInputValue(this.inputValueBackup),this.oldText=this.getInputText(),window.opera&&setTimeout(this._bind(this.moveEnd),5)},keyEventOther:function(t){},changeActive:function(t){this.setStyleActive(this.suggestList[t]),this.setInputText(this.candidateList[this.suggestIndexList[t]]),this.oldText=this.getInputText(),this.input.focus()},changeUnactive:function(){null!=this.suggestList&&this.suggestList.length>0&&null!=this.activePosition&&this.setStyleUnactive(this.suggestList[this.activePosition])},listClick:function(t,e){this.changeUnactive(),this.activePosition=e,this.changeActive(e),this.clearSuggestArea(),this.moveEnd()},listMouseOver:function(t,e){this.setStyleMouseOver(this._getEventElement(t))},listMouseOut:function(t,e){if(this.suggestList){var n=this._getEventElement(t);e==this.activePosition?this.setStyleActive(n):this.setStyleUnactive(n)}},setStyleActive:function(t){t.className=this.classSelect;var e=t.offsetTop,n=e+t.clientHeight;this.suggestArea.scrollTop>e?this.suggestArea.scrollTop=e:this.suggestArea.scrollTop+this.suggestArea.clientHeight<n&&(this.suggestArea.scrollTop=n-this.suggestArea.clientHeight)},setStyleUnactive:function(t){t.className=""},setStyleMouseOver:function(t){t.className=this.classMouseOver},moveEnd:function(){if(this.input.createTextRange)this.input.focus(),(t=this.input.createTextRange()).move("character",this.getInputValue().length),t.select();else if(this.input.setSelectionRange)this.input.setSelectionRange(this.getInputValue().length,this.getInputValue().length);else{var t;this.input.focus(),(t=document.createRange()).selectNodeContents(this.input),t.collapse(!1);var e=window.getSelection();e.removeAllRanges(),e.addRange(t)}},_getElement:function(t){return"string"==typeof t?document.getElementById(t):t},_addEvent:window.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},_stopEvent:function(t){t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0)},_getEventElement:function(t){return t.target||t.srcElement},_bind:function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){t.apply(e,n)}},_bindEvent:function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(i){i=i||window.event,t.apply(e,[i].concat(n))}},_escapeHTML:function(t){return t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},k.LocalMulti=function(){this.initialize.apply(this,arguments)},k.copyProperties(k.LocalMulti.prototype,k.Local.prototype),k.LocalMulti.prototype.keyEventReturn=function(){this.clearSuggestArea(),this.setInputValue(this.getInputValue()+this.delim),this.moveEnd()},k.LocalMulti.prototype.keyEventOther=function(t){t.keyCode==k.Key.TAB&&this.suggestList&&0!=this.suggestList.length&&(this._stopEvent(t),this.activePosition||(this.activePosition=0,this.changeActive(this.activePosition)),this.clearSuggestArea(),this.setInputValue(this.getInputValue()+this.delim),window.opera?setTimeout(this._bind(this.moveEnd),5):this.moveEnd())},k.LocalMulti.prototype.listClick=function(t,e){this.changeUnactive(),this.activePosition=e,this.changeActive(e),this.setInputValue(this.getInputValue()+this.delim),this.clearSuggestArea(),this.moveEnd()},k.LocalMulti.prototype.getInputText=function(){var t=this.getLastTokenPos();return-1==t?this.getInputValue():this.getInputValue().substr(t+this.delim.length)},k.LocalMulti.prototype.setInputText=function(t){var e=this.getLastTokenPos();-1==e?this.setInputValue(t):this.setInputValue(this.getInputValue().substr(0,e+this.delim.length)+t)},k.LocalMulti.prototype.getLastTokenPos=function(){return this.getInputValue().lastIndexOf(this.delim)};var A=function(){function t(e){e.data;var n=e.config,i=e.api;e.readOnly,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.toolbar=i.toolbar,this.inlineToolbar=i.inlineToolbar,this.tooltip=i.tooltip,this.i18n=i.i18n,this.config=n,this.selection=new y,this.commandLink="createLink",this.commandUnlink="unlink",this.CSS={wrapper:"plugin-options-wrapper",wrapperShowed:"plugin-options-wrapper-showed",button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"plugin-option-input",select:"plugin-option-input"},this.avalaibleDesign=this.config.avalaibleDesign||[["bouton","link-btn"],["discret","ninja"]],this.nodes={wrapper:null,input:null,selectTarget:null,selectRel:null,button:null},this.inputOpened=!1}return e=t,n=[{key:"render",value:function(){return console.log("render"),this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(t.iconSvg("link")),this.nodes.button.appendChild(t.iconSvg("unlink")),this.nodes.button}},{key:"renderActions",value:function(){var t,e=this;this.nodes.input=m.A.element("input",this.CSS.input,{placeholder:"https://..."}),this.nodes.suggester=m.A.element("div","textSuggester",{style:"display:none"}),new k.Local(this.nodes.input,this.nodes.suggester,null!==(t=window.pagesUriList)&&void 0!==t?t:[],{highlight:!0,dispMax:20,dispAllKey:!0}),this.nodes.hideForBot=m.A.switchInput("hideForBot",this.i18n.t("Obfusquer")),this.nodes.targetBlank=m.A.switchInput("targetBlank",this.i18n.t("Nouvel onglet")),this.nodes.selectDesign=m.A.element("select",this.CSS.select),m.A.option(this.nodes.selectDesign,"0",this.i18n.t("Style"),{disabled:"disabled"}),m.A.option(this.nodes.selectDesign,"");for(var n=0;n<this.avalaibleDesign.length;n++)m.A.option(this.nodes.selectDesign,this.avalaibleDesign[n][1],this.avalaibleDesign[n][0]);return this.config.design&&(this.nodes.selectDesign.value=this.config.design),this.nodes.wrapper=document.createElement("div"),this.nodes.wrapper.classList.add(this.CSS.wrapper),this.nodes.wrapper.append(this.nodes.input,this.nodes.suggester,this.nodes.hideForBot,this.nodes.targetBlank,this.nodes.selectDesign),setTimeout((function(){return e.nodes.input.focus()}),0),this.nodes.wrapper.addEventListener("change",(function(t){e.save(t)})),this.nodes.wrapper.addEventListener("keydown",(function(t){13===t.keyCode&&(e.save(t),e.selection.collapseToEnd(),e.inlineToolbar.close())})),this.nodes.wrapper}},{key:"surround",value:function(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var e=this.selection.findParentTag("A");if(e)return this.selection.expandToTag(e),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"shortcut",get:function(){return this.config.shortcut||"CMD+K"}},{key:"title",get:function(){return"Hyperlink"}},{key:"checkState",value:function(){var t=this.selection.findParentTag("A");if(t){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var e=t.getAttribute("href"),n=t.getAttribute("target"),i=t.getAttribute("rel"),o=t.getAttribute("class");this.nodes.input.value=e||"",this.nodes.hideForBot.querySelector("input").checked=!!i,this.nodes.targetBlank.querySelector("input").checked=!!n,this.nodes.selectDesign.value=o||"0",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.wrapper.classList.add(this.CSS.wrapperShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var e=new y;e.save(),this.selection.restore(),this.selection.removeFakeBackground(),e.restore()}this.nodes.wrapper.classList.remove(this.CSS.wrapperShowed),this.nodes.input.value="",this.nodes.targetBlank.querySelector("input").checked=!1,this.nodes.hideForBot.querySelector("input").checked=!1,this.nodes.selectDesign.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"save",value:function(t){if(t&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()),!(this.nodes.input.value||"").trim())return console.log("unlink"),this.selection.restore(),void this.unlink();this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink()}},{key:"insertLink",value:function(){var t=this.nodes.input.value||"",e=this.nodes.targetBlank.querySelector("input").checked?"_blank":"",n=this.nodes.hideForBot.querySelector("input").checked?"obfuscate":"",i=this.nodes.selectDesign.value||"",o=this.initSelection?this.initSelection:this.selection.findParentTag("A");return o?this.selection.expandToTag(o):(document.execCommand(this.commandLink,!1,"#"),o=this.selection.findParentTag("A"),this.initSelection=o),o&&(o.href=t,o.href=t,e?o.target=e:o.removeAttribute("target"),n?o.rel=n:o.removeAttribute("rel"),i?o.className=i:o.removeAttribute("class")),o}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}}],i=[{key:"toolbox",get:function(){return{icon:b,title:"Link"}}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{a:{href:!0,target:!0,rel:!0,class:!0}}}},{key:"iconSvg",value:function(t){var e;return(e=(e=(new DOMParser).parseFromString("link"===t?b:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',"text/xml")).firstChild).classList.add("icon","icon--"+t),e}}],n&&x(e.prototype,n),i&&x(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i}()},7801:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(1601),o=n.n(i),s=n(6314),r=n.n(s)()(o());r.push([t.id,'.ninja {\n    text-decoration: none !important;\n    color: inherit !important;\n    border-bottom: 1px dotted #333;\n}\n\n.link-btn {\n    padding: 6px 12px;\n    margin-bottom: 0;\n    border-radius: 3px;\n    border: 1px solid transparent;\n    cursor: pointer;\n    color: #fff;\n    background-color: #3c8dbc;\n    border-color: #367fa9;\n    outline: none;\n    text-decoration: none !important;\n}\n\n.link-btn:hover {\n    color: #fff !important;\n}\n\n.editor-switch {\n    padding-left: 4px;\n    padding-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 5px;\n}\n\n.editor-switch > input[type="checkbox"] {\n    display: none;\n}\n\n.editor-switch label {\n    font-weight: normal;\n}\n.editor-switch > .label-default {\n    cursor: pointer;\n    height: 0px;\n    position: relative;\n    width: 30px;\n}\n\n.editor-switch > .label-default::before {\n    background: rgb(0, 0, 0);\n    box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);\n    border-radius: 8px;\n    content: "";\n    height: 12px;\n    margin-top: -5px;\n    position: absolute;\n    opacity: 0.3;\n    transition: all 0.4s ease-in-out;\n    width: 20px;\n}\n.editor-switch > .label-default::after {\n    background: rgb(255, 255, 255);\n    border-radius: 16px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);\n    content: "";\n    height: 16px;\n    left: -4px;\n    position: absolute;\n    top: -7px;\n    transition: all 0.3s ease-in-out;\n    width: 16px;\n}\n.editor-switch > input[type="checkbox"]:checked + .label-default::before {\n    background: inherit;\n    opacity: 0.5;\n}\n.editor-switch > input[type="checkbox"]:checked + .label-default::after {\n    background: inherit;\n    left: 10px;\n}\n\n.plugin-option-input {\n    border: 1px solid rgba(201, 201, 204, 0.48);\n    box-shadow: inset 0 1px 2px 0 rgb(35 44 72 / 6%);\n    border-radius: 5px;\n    padding: 5px 8px;\n    margin-bottom: 10px;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    background: #fff;\n}\n.plugin-options-wrapper {\n    outline: none;\n    border: 0;\n    border-radius: 0 0 4px 4px;\n    margin: 0;\n    font-size: 13px;\n    padding: 10px;\n    width: 100%;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    display: none;\n    font-weight: 500;\n    border-top: 1px solid rgba(201, 201, 204, 0.48);\n}\n\n.plugin-options-wrapper-showed {\n    display: block;\n}\n',""]);const a=r},817:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(1601),o=n.n(i),s=n(6314),r=n.n(s)()(o());r.push([t.id,".cdx-input-full {\n    width: 100%;\n}\n",""]);const a=r},6314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);i&&r[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},1601:t=>{t.exports=function(t){return t[1]}},4848:(t,e,n)=>{n.d(e,{A:()=>i});const i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">  <path d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14V3.5zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5V6zm-.367 1a.5.5 0 0 0-.496.562l.64 5.124A1.5 1.5 0 0 0 3.266 14h9.468a1.5 1.5 0 0 0 1.489-1.314l.64-5.124A.5.5 0 0 0 14.367 7H1.633z"/></svg>\n'},959:(t,e,n)=>{n.d(e,{A:()=>i});const i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>  <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/></svg>\n'},5072:t=>{var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var s={},r=[],a=0;a<t.length;a++){var l=t[a],u=i.base?l[0]+i.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var g=o(p,i);i.byIndex=a,e.splice(a,0,{identifier:h,updater:g,references:1})}r.push(h)}return r}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var s=i(t=t||[],o=o||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var a=n(s[r]);e[a].references--}for(var l=i(t,o),u=0;u<s.length;u++){var c=n(s[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=l}}},7659:t=>{var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var i={};n.d(i,{default:()=>S});var o=n(5072),s=n.n(o),r=n(7825),a=n.n(r),l=n(7659),u=n.n(l),c=n(5056),h=n.n(c),d=n(540),p=n.n(d),g=n(1113),f=n.n(g),v=n(817),m={};m.styleTagTransform=f(),m.setAttributes=h(),m.insert=u().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),s()(v.A,m),v.A&&v.A.locals&&v.A.locals;var y=n(9069),b=n(9973);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,x(i.key),i)}}function x(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}var S=function(){return t=function t(e){var n=e.api,i=e.data;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=n,this.data=i||{url:"",hideForBot:!0,targetBlank:!1},this._CSS={classWrapper:"cdx-anchor-tune-wrapper",classIcon:"cdx-anchor-tune-icon",classInput:"cdx-anchor-tune-input"},this.nodes={},this.i18n=n.i18n},n=[{key:"isTune",get:function(){return!0}}],(e=[{key:"render",value:function(){var t=document.createElement("div"),e=document.createElement("div");return e.classList.add(this._CSS.classIcon),e.appendChild(b.default.iconSvg("link",12,12)),this.nodes.url=y.A.input(this,["cdx-input-labeled","cdx-input-full"],"<a href=#>image</a>",this.data.url),this.nodes.hideForBot=y.A.switchInput("hideForBot",this.i18n.t("Obfusquer")),this.nodes.targetBlank=y.A.switchInput("targetBlank",this.i18n.t("Nouvel onglet")),t.appendChild(e),t.appendChild(this.nodes.url),t.appendChild(this.nodes.hideForBot),t.appendChild(this.nodes.targetBlank),t}},{key:"save",value:function(){return this.data}}])&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();return i.default})()));